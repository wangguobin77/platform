!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.jeDate=e()}(this,function(){function DateTime(t,e){var a=this,n=new Date,s=["FullYear","Month","Date","Hours","Minutes","Seconds"],i=jet.extend({YYYY:null,MM:null,DD:null,hh:n.getHours(),mm:n.getMinutes(),ss:n.getSeconds()},e),r=void 0==e?n:new Date(i.YYYY,i.MM,i.DD,i.hh,i.mm,i.ss);(t||[]).length>0&&jet.each(t,function(t,e){r["set"+s[t]]("Month"==s[t]?parseInt(e)-1:parseInt(e))}),a.reDate=function(){return new DateTime},a.GetValue=function(){return r},a.GetYear=function(){return r.getFullYear()},a.GetMonth=function(){return r.getMonth()+1},a.GetDate=function(){return r.getDate()},a.GetHours=function(){return r.getHours()},a.GetMinutes=function(){return r.getMinutes()},a.GetSeconds=function(){return r.getSeconds()}}function jeDatePick(t,e){var a={language:{name:"cn",month:["01","02","03","04","05","06","07","08","09","10","11","12"],weeks:["日","一","二","三","四","五","六"],times:["小时","分钟","秒数"],timetxt:["时间选择","开始时间","结束时间"],backtxt:"返回日期",clear:"清空",today:"现在",yes:"确定"},format:"YYYY-MM-DD hh:mm:ss",minDate:"1900-01-01 00:00:00",maxDate:"2099-12-31 23:59:59",isShow:!0,multiPane:!0,onClose:!0,range:!1,trigger:"click",position:[],valiDate:[],isinitVal:!1,initDate:{},isTime:!0,isClear:!0,isToday:!0,isYes:!0,festival:!1,fixed:!0,zIndex:2099,method:{},theme:{},shortcut:[],donefun:null,before:null,succeed:null};this.$opts=jet.extend(a,e||{}),this.valCell=$Q(t),this.format=this.$opts.format,null!=this.valCell?this.init():alert(t+"  ID或类名不存在!"),jet.extend(this,this.$opts.method),delete this.$opts.method}function jeLunar(t,e,a){function n(t){var e=function(t,e){var a=new Date(31556925974.7*(t-1900)+6e4*i[e]+Date.UTC(1900,0,6,2,5));return a.getUTCDate()},a=function(t){var e,a=348;for(e=32768;e>8;e>>=1)a+=s[t-1900]&e?1:0;return a+v(t)},n=function(t){return r.charAt(t%10)+l.charAt(t%12)},v=function(t){var e=Y(t)?65536&s[t-1900]?30:29:0;return e},Y=function(t){return 15&s[t-1900]},f=function(t,e){return s[t-1900]&65536>>e?30:29},y=function(t){var e,n=0,s=0,i=new Date(1900,0,31),r=(t-i)/864e5;for(this.dayCyl=r+40,this.monCyl=14,e=1900;e<2050&&r>0;e++)s=a(e),r-=s,this.monCyl+=12;for(r<0&&(r+=s,e--,this.monCyl-=12),this.year=e,this.yearCyl=e-1864,n=Y(e),this.isLeap=!1,e=1;e<13&&r>0;e++)n>0&&e==n+1&&0==this.isLeap?(--e,this.isLeap=!0,s=v(this.year)):s=f(this.year,e),1==this.isLeap&&e==n+1&&(this.isLeap=!1),r-=s,0==this.isLeap&&this.monCyl++;0==r&&n>0&&e==n+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--e,--this.monCyl)),r<0&&(r+=s,--e,--this.monCyl),this.month=e,this.day=r+1},j=function(t){return t<10?"0"+(0|t):t},g=function(t,e){var a=t;return e.replace(/dd?d?d?|MM?M?M?|yy?y?y?/g,function(t){switch(t){case"yyyy":var e="000"+a.getFullYear();return e.substring(e.length-4);case"dd":return j(a.getDate());case"d":return a.getDate().toString();case"MM":return j(a.getMonth()+1);case"M":return a.getMonth()+1}})},D=function(t,e){var a;switch(e){case 10:a="初十";break;case 20:a="二十";break;case 30:a="三十";break;default:a=c.charAt(Math.floor(e/10)),a+=d.charAt(e%10)}return a};this.isToday=!1,this.isRestDay=!1,this.solarYear=g(t,"yyyy"),this.solarMonth=g(t,"M"),this.solarDate=g(t,"d"),this.solarWeekDay=t.getDay(),this.inWeekDays="星期"+d.charAt(this.solarWeekDay);var M=new y(t);this.lunarYear=M.year,this.shengxiao=o.charAt((this.lunarYear-4)%12),this.lunarMonth=M.month,this.lunarIsLeapMonth=M.isLeap,this.lnongMonth=this.lunarIsLeapMonth?"闰"+u[M.month-1]:u[M.month-1],this.lunarDate=M.day,this.showInLunar=this.lnongDate=D(this.lunarMonth,this.lunarDate),1==this.lunarDate&&(this.showInLunar=this.lnongMonth+"月"),this.ganzhiYear=n(M.yearCyl),this.ganzhiMonth=n(M.monCyl),this.ganzhiDate=n(M.dayCyl++),this.jieqi="",this.restDays=0,e(this.solarYear,2*(this.solarMonth-1))==g(t,"d")&&(this.showInLunar=this.jieqi=h[2*(this.solarMonth-1)]),e(this.solarYear,2*(this.solarMonth-1)+1)==g(t,"d")&&(this.showInLunar=this.jieqi=h[2*(this.solarMonth-1)+1]),"清明"==this.showInLunar&&(this.showInLunar="清明节",this.restDays=1),this.solarFestival=m[g(t,"MM")+g(t,"dd")],"undefined"==typeof this.solarFestival?this.solarFestival="":/\*(\d)/.test(this.solarFestival)&&(this.restDays=parseInt(RegExp.$1),this.solarFestival=this.solarFestival.replace(/\*\d/,"")),this.showInLunar=""==this.solarFestival?this.showInLunar:this.solarFestival,this.lunarFestival=p[this.lunarIsLeapMonth?"00":j(this.lunarMonth)+j(this.lunarDate)],"undefined"==typeof this.lunarFestival?this.lunarFestival="":/\*(\d)/.test(this.lunarFestival)&&(this.restDays=this.restDays>parseInt(RegExp.$1)?this.restDays:parseInt(RegExp.$1),this.lunarFestival=this.lunarFestival.replace(/\*\d/,"")),12==this.lunarMonth&&this.lunarDate==f(this.lunarYear,12)&&(this.lunarFestival=p["0100"],this.restDays=1),this.showInLunar=""==this.lunarFestival?this.showInLunar:this.lunarFestival}var s=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448],i=[0,21208,43467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758],r="甲乙丙丁戊己庚辛壬癸",l="子丑寅卯辰巳午未申酉戌亥",o="鼠牛虎兔龙蛇马羊猴鸡狗猪",h=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],d="日一二三四五六七八九十",c="初十廿卅",u=["正","二","三","四","五","六","七","八","九","十","十一","腊"],m={"0101":"*1元旦节","0202":"湿地日","0214":"情人节","0308":"妇女节","0312":"植树节","0315":"消费者权益日","0401":"愚人节","0422":"地球日","0501":"*1劳动节","0504":"青年节","0512":"护士节","0518":"博物馆日","0520":"母亲节","0601":"儿童节","0623":"奥林匹克日","0630":"父亲节","0701":"建党节","0801":"建军节","0903":"抗战胜利日","0910":"教师节",1001:"*3国庆节",1201:"艾滋病日",1224:"平安夜",1225:"圣诞节"},p={"0100":"除夕","0101":"*2春节","0115":"元宵节","0505":"*1端午节","0707":"七夕节","0715":"中元节","0815":"*1中秋节","0909":"*1重阳节",1015:"下元节",1208:"腊八节",1223:"小年"};return new n(new Date(t,e,a))}var doc=document,win=window,jet={},doc=document,regymdzz="YYYY|MM|DD|hh|mm|ss|zz",gr=/\-/g,regymd="YYYY|MM|DD|hh|mm|ss|zz".replace("|zz",""),parseInt=function(t){return window.parseInt(t,10)},$Q=function(t,e){return e=e||document,t.nodeType?t:e.querySelector(t)},jeDate=function(t,e){var a="function"==typeof e?e():e;return new jeDatePick(t,a)};jeDate.dateVer="V6.5.0",jeDate.extend=jet.extend=function(){var t,e,a,n,s=!1,i=arguments[0],r=1,l=arguments.length;for("boolean"==typeof i&&(s=i,i=arguments[1]||{},r=2),"object"!=typeof i&&"function"!=typeof i&&(i={}),l===r&&(i=this,--r);r<l;r++)if(null!=(t=arguments[r]))for(e in t)a=i[e],n=t[e],i!==n&&void 0!==n&&(i[e]=n);return i},jeDate.nowDate=function(t,e){return e=e||"YYYY-MM-DD hh:mm:ss",isNaN(t)||(t={DD:t}),jet.parse(jet.getDateTime(t),e)},jeDate.convert=function(t){t.format=t.format||"YYYY-MM-DD hh:mm:ss",t.addval=t.addval||[];var e=jet.reMatch(t.format),a={};jet.each(jet.reMatch(t.val),function(t,n){a[e[t]]=parseInt(n)});var n=new DateTime(t.addval,a),s={YYYY:n.GetYear(),MM:n.GetMonth(),DD:n.GetDate(),hh:n.GetHours(),mm:n.GetMinutes(),ss:n.GetSeconds()};return s},jeDate.valText=function(t,e){return jet.valText(t,e)},jeDate.timeStampDate=function(t,e){e=e||"YYYY-MM-DD hh:mm:ss";var a=/^(-)?\d{1,10}$/.test(t)||/^(-)?\d{1,13}$/.test(t);if(/^[1-9]*[1-9][0-9]*$/.test(t)&&a){var n=parseInt(t);if(/^(-)?\d{1,10}$/.test(n))n=1e3*n;else if(/^(-)?\d{1,13}$/.test(n))n=1e3*n;else{if(!/^(-)?\d{1,14}$/.test(n))return void alert("时间戳格式不正确");n=100*n}var s=new Date(n);return jet.parse({YYYY:s.getFullYear(),MM:jet.digit(s.getMonth()+1),DD:jet.digit(s.getDate()),hh:jet.digit(s.getHours()),mm:jet.digit(s.getMinutes()),ss:jet.digit(s.getSeconds())},e)}var i=jet.reMatch(t),r=new Date(i[0],i[1]-1,i[2],i[3]||0,i[4]||0,i[5]||0),l=Math.round(r.getTime()/1e3);return l},jeDate.getLunar=function(t){var e=jeLunar(t.YYYY,parseInt(t.MM)-1,t.DD);return{nM:e.lnongMonth,nD:e.lnongDate,cY:parseInt(e.solarYear),cM:parseInt(e.solarMonth),cD:parseInt(e.solarDate),cW:e.inWeekDays,nW:e.solarWeekDay}},jeDate.parse=jet.parse=function(t,e){return e.replace(new RegExp(regymdzz,"g"),function(e,a){return"zz"==e?"00":jet.digit(t[e])})},jet.extend(jet,{isType:function(t,e){var a=function(t){return t=t.toLowerCase(),t.replace(/\b(\w)|\s(\w)/g,function(t){return t.toUpperCase()})};return Object.prototype.toString.call(t)=="[object "+a(e)+"]"},each:function(t,e,a){var n,s=0,i=t.length,r=void 0===i||"function"===t;if(r){for(n in t)if(e.call(t[n],n,t[n])===!1)break}else for(;s<i&&e.call(t[s],s,t[s++])!==!1;);return t},on:function(t,e,a){return t.addEventListener?(t.addEventListener(e,a,!1),!0):t.attachEvent?t.attachEvent("on"+e,a):void(t["on"+e]=a)},isObj:function(t){for(var e in t)return!0;return!1},trim:function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},reMatch:function(t){var e=[],a="",n=/(^\w{4}|\w{2}\B)/g;return a=jet.isNum(t)?t.replace(n,"$1-"):/^[A-Za-z]+$/.test(t)?t.replace(n,"$1-"):t,jet.each(a.match(/\w+|d+/g),function(t,a){e.push(jet.isNum(a)?parseInt(a):a)}),e},equals:function(t,e){if(!e)return!1;if(t.length!=e.length)return!1;for(var a=0,n=t.length;a<n;a++)if(t[a]instanceof Array&&e[a]instanceof Array){if(!t[a].equals(e[a]))return!1}else if(t[a]!=e[a])return!1;return!0},docScroll:function(t){return t=t?"scrollLeft":"scrollTop",document.body[t]|document.documentElement[t]},docArea:function(t){return document.documentElement[t?"clientWidth":"clientHeight"]},digit:function(t){return t<10?"0"+(0|t):t},isNum:function(t){return!!/^[+-]?\d*\.?\d*$/.test(t)},getDaysNum:function(t,e){var a=31,n=t%100!==0&&t%4===0||t%400===0;switch(parseInt(e)){case 2:a=n?29:28;break;case 4:case 6:case 9:case 11:a=30}return a},getYM:function(t,e,a){var n=new Date(t,e-1);return n.setMonth(e-1+a),{y:n.getFullYear(),m:n.getMonth()+1}},prevMonth:function(t,e,a){return jet.getYM(t,e,0-(a||1))},nextMonth:function(t,e,a){return jet.getYM(t,e,a||1)},setCss:function(t,e){for(var a in e)t.style[a]=e[a]},html:function(t,e){return"undefined"==typeof e?t&&1===t.nodeType?t.innerHTML:void 0:"undefined"!=typeof e&&1==e?t&&1===t.nodeType?t.outerHTML:void 0:t.innerHTML=e},text:function(t,e){var a=document.all?"innerText":"textContent";return"undefined"==typeof e?t&&1===t.nodeType?t[a]:void 0:t[a]=e},val:function(t,e){return"undefined"==typeof e?t&&1===t.nodeType&&"undefined"!=typeof t.value?t.value:void 0:(e=null==e?"":e+"",void(t.value=e))},attr:function(t,e){return t.getAttribute(e)},hasClass:function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},stopPropagation:function(t){t&&t.stopPropagation?t.stopPropagation():window.event.cancelBubble=!0},template:function(t,e){var a=/[^\w\-\.:]/.test(t)?t:document.getElementById(t).innerHTML,n=function(t){var e="";for(var a in t)e+="var "+a+'= $D["'+a+'"];';return e},s=function(t,e){var a="var $out='"+t.replace(/[\r\n]/g,"").replace(/^(.+?)\{\%|\%\}(.+?)\{\%|\%\}(.+?)$/g,function(t){return t.replace(/(['"])/g,"\\$1")}).replace(/\{\%\s*=\s*(.+?)\%\}/g,"';$out+=$1;$out+='").replace(/\{\%(.+?)\%\}/g,"';$1;$out+='")+"';return new String($out);",s=n(e),i=new Function("$D",s+a);return new i(e)+""};return s(a,e)},isValDiv:function(t){return/textarea|input/.test(t.tagName.toLocaleLowerCase())},valText:function(t,e){var a=$Q(t),n=jet.isValDiv(a)?"val":"text";return void 0==e?jet[n](a):void jet[n](a,e)},isBool:function(t){return void 0==t||1==t},getDateTime:function(t){var e=new DateTime,a=jet.extend({YYYY:null,MM:null,DD:null,hh:0,mm:0,ss:0},t),n={YYYY:"FullYear",MM:"Month",DD:"Date",hh:"Hours",mm:"Minutes",ss:"Seconds"};jet.each(["ss","mm","hh","DD","MM","YYYY"],function(t,s){if(!jet.isNum(parseInt(a[s])))return null;var i=e.GetValue();(parseInt(a[s])||0==parseInt(a[s]))&&i["set"+n[s]](e["Get"+n[s]]()+("MM"==s?-1:0)+parseInt(a[s]))});var s={YYYY:e.GetYear(),MM:e.GetMonth(),DD:e.GetDate(),hh:e.GetHours(),mm:e.GetMinutes(),ss:e.GetSeconds()};return s}});var searandom=function(){for(var t="",e=[1,2,3,4,5,6,7,8,9,0],a=0;a<8;a++)t+=e[Math.round(Math.random()*(e.length-1))];return t},jefix="jefixed",ymdzArr=jet.reMatch(regymdzz),elx="#jedate";return jet.extend(jeDatePick.prototype,{init:function(){var t,e=this,a=e.$opts,n=(new Date,a.trigger),s=a.initDate||[],i=a.range,r=(void 0==a.zIndex?1e4:a.zIndex,jet.isBool(a.isShow)),l=void 0!=a.isinitVal&&0!=a.isinitVal;if(e.setDatas(),a.before&&a.before(e.valCell),l&&n&&r){if(s[1]){var o=jet.getDateTime(s[0]);t=[{YYYY:o.YYYY,MM:jet.digit(o.MM),DD:jet.digit(o.DD),hh:jet.digit(o.hh),mm:jet.digit(o.mm),ss:jet.digit(o.ss)}]}else t=e.getValue(jet.isObj(s[0])?s[0]:{});i||e.setValue([t[0]],a.format,!0)}var h=function(){var t=jet.reMatch(e.format),a=""!=e.getValue(),n=[],s=7==e.dlen?"hh:mm:ss":"YYYY-MM"+(e.dlen<=2?"":"-DD");if(e.selectValue=[jet.parse(jet.getDateTime({}),s)],a&&r){var l=e.getValue().split(i);jet.each(new Array(i?2:1),function(e){n[e]={},jet.each(jet.reMatch(l[e]),function(a,s){n[e][t[a]]=parseInt(s)})}),i&&(e.selectValue=l)}else{var o=e.getValue({})[0],h=jet.nextMonth(o.YYYY,o.MM||jet.getDateTime({}).MM);e.dlen>2&&e.dlen<=6?{YYYY:h.y,MM:h.m}:{};n=[o]}return e.selectDate=n,n},d=[];e.minDate="",e.maxDate="",r&&n||(d=h()),r&&n?n&&jet.on(e.valCell,n,function(){if(!(document.querySelectorAll(elx).length>0)){var t=h();e.minDate=jet.isType(a.minDate,"function")?a.minDate(e):a.minDate,e.maxDate=jet.isType(a.maxDate,"function")?a.maxDate(e):a.maxDate,e.storeData(t[0],t[1]),e.renderDate()}}):(e.minDate=jet.isType(a.minDate,"function")?a.minDate(e):a.minDate,e.maxDate=jet.isType(a.maxDate,"function")?a.maxDate(e):a.maxDate,e.storeData(d[0],d[1]),e.renderDate(),a.succeed&&a.succeed(e.dateCell))},setDatas:function(){var t=this,e=t.$opts,a=e.range,n=[],s=jet.isBool(e.isShow),i=e.multiPane;t.$data=jet.extend({year:!1,month:!1,day:!0,time:!1,timebtn:!1},{shortcut:[],lang:e.language,yaerlist:[],monthlist:[[],[]],ymlist:[[],[]],daylist:[[],[]],clear:e.isClear,today:!a&&e.isToday,yes:e.isYes,pane:i?1:2}),e.shortcut.length>0&&(jet.each(e.shortcut,function(t,e){var a=[],s=jet.isType(e.val,"function")?e.val():e.val;if(jet.isType(s,"object")){for(var i in s)a.push(i+":"+s[i]);n.push(jet.extend({},{name:e.name,val:"{"+a.join("#")+"}"}))}}),t.$data.shortcut=n),t.dlen=function(){var e=jet.reMatch(t.format),a=[];jet.each(ymdzArr,function(t,n){jet.each(e,function(t,e){n==e&&a.push(e)})});var n=a.length,s="hh"==a[0]&&n<=3?7:n;return s}(),t.$data.dlen=t.dlen,t.timeInspect=!1,1==t.dlen?jet.extend(t.$data,{year:!0,day:!1}):2==t.dlen?jet.extend(t.$data,{month:!0,day:!1}):t.dlen>3&&t.dlen<=6?t.$data.timebtn=!0:7==t.dlen&&jet.extend(t.$data,{day:!1,time:!0}),s||(t.$data.clear=!1,t.$data.yes=!1)},renderDate:function(){var t=this,e=t.$opts,a=jet.isBool(e.isShow),n=a?elx:elx+searandom(),s={zIndex:void 0==e.zIndex?1e4:e.zIndex};if(void 0==t.dateCell&&(t.dateCell=document.createElement("div"),t.dateCell.id=n.replace(/\#/g,""),t.dateCell.className=elx.replace(/\#/g,"")+" "+(e.shortcut.length>0?" leftmenu":""),t.dateCell.setAttribute("author","chen guojun")),jet.html(t.dateCell,jet.template(t.dateTemplate(),t.$data)),jet.isObj(e.theme)){var i=document.createElement("style"),r=".jedate"+searandom(),l=e.theme,o="background-color:"+l.bgcolor,h="color:"+(void 0==l.color?"#FFFFFF":l.color),d=void 0==l.pnColor?"":"color:"+l.pnColor+";";t.dateCell.className=t.dateCell.className+" "+r.replace(/^./g,""),i.setAttribute("type","text/css"),i.innerHTML=r+" .jedate-menu p:hover{"+o+";"+h+";}"+r+" .jedate-header em{"+h+";}"+r+" .jedate-content .yeartable td.action span,"+r+" .jedate-content .monthtable td.action span,"+r+" .jedate-content .yeartable td.action span:hover,"+r+" .jedate-content .monthtable td.action span:hover{"+o+";border:1px "+l.bgcolor+" solid;"+h+";}"+r+" .jedate-content .daystable td.action,"+r+" .jedate-content .daystable td.action:hover,"+r+" .jedate-content .daystable td.action .lunar,"+r+" .jedate-header,"+r+" .jedate-time .timeheader,"+r+" .jedate-time .hmslist ul li.action,"+r+" .jedate-time .hmslist ul li.action:hover,"+r+" .jedate-time .hmslist ul li.disabled.action,"+r+" .jedate-footbtn .timecon,"+r+" .jedate-footbtn .btnscon span{"+o+";"+h+";}"+r+" .jedate-content .daystable td.other,"+r+" .jedate-content .daystable td.other .nolunar,"+r+" .jedate-content .daystable td.other .lunar{"+d+"}"+r+" .jedate-content .daystable td.contain,"+r+" .jedate-content .daystable td.contain:hover{background-"+d+"}",t.dateCell.appendChild(i)}t.compileBindNode(t.dateCell),document.querySelectorAll(n).length>0&&document.body.removeChild($Q(n)),a?document.body.appendChild(t.dateCell):t.valCell.appendChild(t.dateCell),jet.setCss(t.dateCell,jet.extend({position:a?1==e.fixed?"absolute":"fixed":"relative"},a?s:{})),t.methodEventBind(),(7==t.dlen||t.dlen>3&&t.dlen<=6)&&t.locateScroll(),e.festival&&"cn"==e.language.name&&t.showFestival(),a&&(t.dateOrien(t.dateCell,t.valCell),t.blankArea())},setValue:function(t,e,a){var n,s=this,i=s.valCell;if(e=e||s.format,"string"==typeof t&&""!=t){var r=t.split(s.$opts.range),l=[];jet.each(r,function(t,a){var n=jet.reMatch(a),s={};jet.each(jet.reMatch(e),function(t,e){s[e]=n[t]}),l.push(s)}),n=l}else n=t;var o=s.parseValue(n,e);return 0!=a&&jet.valText(i,o),o},getValue:function(t){var e,a=this,n=a.valCell,s=a.$opts,i=(new DateTime).reDate(),r=i.GetYear(),l=i.GetMonth(),o=i.GetDate(),h=i.GetHours(),d=i.GetMinutes(),c=i.GetSeconds();if(void 0==t&&jet.isBool(s.isShow))e=jet.valText(n);else{var u=jet.isBool(s.isShow)?""==jet.valText(n):!jet.isBool(s.isShow),m=jet.extend({YYYY:null,MM:null,DD:null},t||{}),p=[],v=new Array(2),Y=function(t){return[void 0==m[t]||null==m[t],m[t]]},f=[{YYYY:r,MM:l,DD:o,hh:h,mm:d,ss:c,zz:0},{YYYY:r,MM:l,DD:o,hh:h,mm:d,ss:c,zz:0}];if(u)jet.each(v,function(t){var e={};jet.each(ymdzArr,function(a,n){e[n]=parseInt(Y(n)[0]?f[t][n]:Y(n)[1])}),p.push(jet.extend(f[t],e))});else{var y=0!=s.range,j=a.getValue(),g=j.split(s.range),D=jet.reMatch(a.format);jet.each(v,function(e){var a={},n=y?jet.reMatch(g[e]):jet.reMatch(j);jet.each(D,function(t,e){a[e]=n[t]});var s=jet.extend(a,t||{});p.push(jet.extend(f[e],s))})}e=p}return e},storeData:function(t,e){e=e||{};var a,n=this,s=n.$opts,i=s.multiPane,r=n.valCell,l=(new Date).getDate(),o=(n.$data,jet.isObj(e)),h={yearlist:[],monthlist:[[],[]],daylist:[],daytit:[],timelist:[]},d=null==t.DD?l:t.DD,c=null==e.DD?l:e.DD,u={hh:t.hh,mm:t.mm,ss:t.ss},m={hh:e.hh||0,mm:e.mm||0,ss:e.ss||0};if(h.yearlist.push(n.eachYear(parseInt(t.YYYY),1)),0==i){var p=o?e.YYYY:t.YYYY;h.yearlist.push(n.eachYear(parseInt(p),2))}if(h.monthlist[0]=n.eachMonth(t.YYYY,0),0==i){o?e.YYYY:t.YYYY+1;h.monthlist[1]=n.eachMonth(t.YYYY+1,1)}if(h.daylist.push(n.eachDays(t.YYYY,t.MM,d,0)),h.daytit.push({YYYY:t.YYYY,MM:t.MM}),0==i){var v=jet.nextMonth(t.YYYY,t.MM);h.daylist.push(n.eachDays(v.y,v.m,c,1)),h.daytit.push({YYYY:v.y,MM:v.m})}n.selectTime=[u,m],h.timelist.push(n.eachTime(u,1)),0==i&&(a=7==n.dlen&&s.range&&!o?u:m,7==n.dlen&&s.range&&""==jet.valText(r)&&(n.selectTime[1]=jet.extend(m,u)),h.timelist.push(n.eachTime(a,2))),jet.extend(n.$data,h)},dateTemplate:function(){var t=this,e=t.$opts,a=e.multiPane,n="",s="",i=e.language,r="cn"==i.name?"年":"",l="cn"==i.name?"月":"",o=function(){var e=[],n=a?"11":"23";return 1==t.dlen?e=["{%=yearlist[i][0].y-"+n+"%}","{%=yearlist[i][yearlist[i].length-1].y%}"]:2==t.dlen?e=a?["{%=yearlist[0][0].y-1%}","{%=yearlist[0][0].y+1%}"]:["{%=yearlist[i][0].y-"+n+"%}","{%=yearlist[i][yearlist[i].length-1].y%}"]:t.dlen>2&&t.dlen<=6&&(e=["{%=yearlist[0][0].y-1%}","{%=yearlist[0][0].y+1%}"]),e}(),h='<em class="yearprev yprev jedatefont" @on="yearBtn(lprev,'+o[0]+')">&#xed6c2;</em>',d=('<em class="yearnext ynext jedatefont" on="yearBtn(lnext,'+o[2]+')">&#xed6c5;</em>','<em class="yearprev yprev jedatefont" on="yearBtn(rprev,'+o[3]+')">&#xed6c2;</em>','<em class="yearnext ynext jedatefont" @on="yearBtn(rnext,'+o[1]+')">&#xed6c5;</em>'),c='{% if(dlen>2){ %}<em class="monthprev mprev jedatefont" @on="monthBtn(mprev,{%=daytit[i].YYYY%}-{%=daytit[i].MM%})">&#xed602;</em>{% } %}',u='{% if(dlen>2){ %}<em class="monthnext mnext jedatefont" @on="monthBtn(mnext,{%=daytit[i].YYYY%}-{%=daytit[i].MM%})">&#xed605;</em>{% } %}',m='<table class="yeartable year{%= i==0 ? "left":"right"%}" style="display:{%=year ? "block":"none"%};"><tbody><tr>{% for(var y=0;y<=11;y++){ %}<td class="{%=yearlist[i][y].style%}" @on="yearClick({%=yearlist[i][y].y%})"><span>{%=yearlist[i][y].y%}'+r+"</span></td>{% if((y+1)%3==0){ %} </tr>{% } %} {% } %} </tbody></table>",p='<table class="monthtable month{%= i==0 ? "left":"right"%}" style="display:{%=month ? "block":"none"%};"><tbody><tr>{% for(var m=0;m<=11;m++){ %}<td class="{%=monthlist[i][m].style%}" ym="{%=monthlist[i][m].y%}-{%=monthlist[i][m].m%}" @on="monthClick({%=monthlist[i][m].y%}-{%=monthlist[i][m].m%})"><span>{%=monthlist[i][m].m%}'+l+"</span></td>{% if((m+1)%3==0){ %} </tr>{% } %} {% } %} </tbody></table>",v='<table class="daystable days{%= i==0 ? "left":"right"%}" style="display:{%=day ? "block":"none"%};"><thead><tr>{% for(var w=0;w<lang.weeks.length;w++){ %} <th>{%=lang.weeks[w]%}</th> {% } %}</tr></thead><tbody><tr>{% for(var d=0;d<=41;d++){ %}<td class="{%=daylist[i][d].style%}" ymd="{%=daylist[i][d].ymd%}" @on="daysClick({%=daylist[i][d].ymd%})">{%=daylist[i][d].day%}</td>{% if((d+1)%7==0){ %} </tr>{% } %} {% } %} </tbody></table>',Y='<div class="jedate-time">{% for(var h=0;h<timelist.length;h++){ %}<div class="timepane"><div class="timeheader">{%= timelist.length == 1 ? lang.timetxt[0]:lang.timetxt[h+1]%}</div><div class="timecontent"><div class="hmstitle"><p>{%=lang.times[0]%}</p><p>{%=lang.times[1]%}</p><p>{%=lang.times[2]%}</p></div><div class="hmslist">{% for(var t=0;t<3;t++){ %}<div class="hmsauto"><ul>{% for(var s=0;s<timelist[h][t].length;s++){ %}<li class="{%=timelist[h][t][s].style%}" @on="hmsClick({%= h %},{%= h>0?3+t:t %})">{%= timelist[h][t][s].hms < 10 ? "0" + timelist[h][t][s].hms :timelist[h][t][s].hms %}</li>{% } %}</ul></div>{% } %}</div></div></div>{% } %}</div>',f=e.shortcut.length>0?"{% for(var s=0;s<shortcut.length;s++){ %}<p @on=shortClick({%= shortcut[s].val %})>{%=shortcut[s].name%}</p>{% } %}":"",y=function(){var e="";return 1==t.dlen?e='<span class="ymbtn">{%=yearlist[i][0].y%}'+r+" ~ {%=yearlist[i][yearlist[i].length-1].y%}"+r+"</span>":2==t.dlen?e='<span class="ymbtn" @on="yearShow({%=yearlist[0][i].y%})">{%=yearlist[0][i].y%}'+r+"</span>":t.dlen>2&&t.dlen<=6&&(e='<span class="ymbtn" @on="monthShow({%=daytit[i].MM%})">{%=daytit[i].MM%}'+l+'</span><span class="ymbtn" @on="yearShow({%=daytit[i].YYYY%})">{%=daytit[i].YYYY%}'+r+"</span>"),e}(),j=function(){var e="";return 1==t.dlen?e=a?[h+d]:[h,d]:2==t.dlen?e=a?[h+d]:[h,d]:t.dlen>2&&t.dlen<=6?e=a?[h+c+u+d]:[h+c,u+d]:7==t.dlen&&(e=""),e}();1==t.dlen?n=m:2==t.dlen?n=m+p:3==t.dlen?n=m+p+v:t.dlen>3&&t.dlen<=6?(n=m+p+v,s=Y):7==t.dlen&&(s=Y);var g='{% for(var i=0;i<pane;i++){ %}<div class="jedate-pane"><div class="jedate-header">{% if(i==0){ %}'+j[0]+"{% }else{ %}"+j[1]+"{% } %}"+y+'</div><div class="jedate-content{%= i==1?" bordge":"" %}">'+n+"</div></div>{% } %}",D='{% if(timebtn){%}<div class="timecon" style="cursor: pointer;" @on="timeBtn">{%=lang.timetxt[0]%}</div>{% } %}<div class="btnscon">{% if(clear){ %}<span class="clear" @on="clearBtn">{%=lang.clear%}</span>{% } %}{% if(today){ %}<span class="today" @on="nowBtn">{%=lang.today%}</span>{% } %}{% if(yes){ %}<span class="setok" @on="sureBtn">{%=lang.yes%}</span>{% } %}</div>';return'<div class="jedate-menu" style="display:{%=shortcut.length>0 ? "block":"none"%};">'+f+'</div><div class="jedate-wrap">'+g+"</div>"+s+'<div class="jedate-footbtn">'+D+'</div><div class="jedate-tips"></div>'},compileBindNode:function(t){var e=this,a="@on",n=function(t){var e=/\(.*\)/.exec(t);return e?(e=e[0],t=t.replace(e,""),e=e.replace(/[\(\)\'\"]/g,"").split(",")):e=[],[t,e]};jet.each(t.childNodes,function(t,s){if(1===s.nodeType){e.$opts.festival||s.removeAttribute("ymd"),e.compileBindNode(s);var i=s.getAttribute(a);if(null!=i){var r=n(i);jet.on(s,"click",function(){e[r[0]]&&e[r[0]].apply(s,r[1])}),s.removeAttribute(a)}}})},methodEventBind:function(){var that=this,opts=that.$opts,multi=opts.multiPane,DTS=that.$data,result=(new DateTime).reDate(),dateY=result.GetYear(),dateM=result.GetMonth(),dateD=result.GetDate(),range=opts.range,elCell=that.dateCell;jet.extend(that,{yearBtn:function(t,e){var a=e.split("#"),n=(jet.reMatch(a[0]),that.selectTime);exarr=[jet.extend({YYYY:parseInt(e),MM:dateM,DD:dateD},n[0]),{}];var s=that.parseValue([exarr[0]],that.format);that.storeData(exarr[0],exarr[1]),that.renderDate(),opts.toggle&&opts.toggle({elem:that.valCell,val:s,date:exarr[0]})},yearShow:function(t){if(DTS.year=!DTS.year,DTS.month=that.dlen<3,that.dlen>2&&that.dlen<=6){var e=$Q(".daystable",elCell);DTS.day="none"==e.style.display}that.renderDate()},monthBtn:function(t,e){var a,n,s=jet.reMatch(e),i=that.selectTime,r=[],l=parseInt(s[0]),o=parseInt(s[1]);if(range)"mprev"==t?(a=jet.prevMonth(l,o),n=jet.nextMonth(a.y,a.m)):(n=jet.nextMonth(l,o),a=jet.prevMonth(n.y,n.m)),r=[jet.extend({YYYY:a.y,MM:a.m,DD:dateD},i[0]),{YYYY:n.y,MM:n.m,DD:dateD}];else{var h="mprev"==t?jet.prevMonth(l,o):jet.nextMonth(l,o);r=[jet.extend({YYYY:h.y,MM:h.m,DD:dateD},i[0]),{}]}var d=that.parseValue([r[0]],that.format);that.storeData(r[0],r[1]),that.renderDate(),opts.toggle&&opts.toggle({elem:that.valCell,val:d,date:r[0]})},monthShow:function(t){if(DTS.year=!1,DTS.month=!DTS.month,that.dlen>2&&that.dlen<=6){var e=$Q(".daystable",elCell);DTS.day="none"==e.style.display}that.renderDate()},shortClick:function(val){var reval=val.replace(/\#/g,","),evobj=eval("("+reval+")"),gval=jet.getDateTime(evobj),tmval=that.selectTime;if(that.selectValue=[jet.parse(gval,"YYYY-MM-DD")],that.selectDate=[{YYYY:gval.YYYY,MM:gval.MM,DD:gval.DD}],opts.onClose){var nYM=jet.nextMonth(gval.YYYY,gval.MM),ymarr=[{YYYY:gval.YYYY,MM:gval.MM,DD:gval.DD},{YYYY:nYM.y,MM:nYM.m,DD:null}];that.storeData(jet.extend(ymarr[0],tmval[0]),jet.extend(ymarr[1],tmval[1])),that.renderDate()}else that.setValue(gval,that.format),that.closeDate()},yearClick:function(t){if(!jet.hasClass(this,"disabled")){var e="",a=that.dlen;if(range&&1==a){var n=that.selectValue.length;if(that.selectDate=2==n?[{YYYY:parseInt(t),MM:dateM}]:[{YYYY:that.selectDate[0].YYYY,MM:that.selectDate[0].MM},{YYYY:parseInt(t),MM:dateM}],that.selectValue=2==n?[t+"-"+jet.digit(dateM)]:[that.selectValue[0],t+"-"+jet.digit(dateM)],2==that.selectValue.length){var s=[that.selectValue[0],that.selectValue[1]],i=[{},{}];s.sort(function(t,e){return t>e?1:-1}),that.selectValue=s,jet.each(s,function(t,e){jet.each(jet.reMatch(e),function(e,a){i[t][ymdzArr[e]]=a})}),that.selectDate=i}}else a>1&&a<=6?e=parseInt(t):(that.selectValue=[t+"-"+jet.digit(dateM)],that.selectDate=[{YYYY:parseInt(t),MM:dateM}]);DTS.year=1==a,DTS.month=a<3,DTS.day=a>2&&a<=6;var r=a>1&&a<=6?e:parseInt(that.selectDate[0].YYYY);that.storeData(jet.extend({YYYY:r,MM:dateM,DD:dateD},that.selectTime[0]),{}),that.renderDate()}},monthClick:function(t){if(!jet.hasClass(this,"disabled")){var e=jet.reMatch(t),a=[{},{}],n=that.selectValue.length;if(range){if(that.selectDate=2==n?[{YYYY:e[0],MM:e[1]}]:[{YYYY:that.selectDate[0].YYYY,MM:that.selectDate[0].MM},{YYYY:parseInt(t),MM:e[1]}],that.selectValue=2==n?[t]:[that.selectValue[0],t],2==that.selectValue.length){var s=[that.selectValue[0],that.selectValue[1]];s.sort(function(t,e){return t>e?1:-1}),that.selectValue=s,jet.each(s,function(t,e){jet.each(jet.reMatch(e),function(e,n){a[t][ymdzArr[e]]=n})}),that.selectDate=a}}else that.selectValue=[t],that.selectDate=[{YYYY:e[0],MM:e[1]}];that.dlen>2&&(DTS.year=!1,DTS.month=!1),DTS.day=that.dlen>2&&that.dlen<=6,that.storeData(jet.extend({YYYY:parseInt(that.selectDate[0].YYYY),MM:parseInt(that.selectDate[0].MM),DD:dateD},that.selectTime[0]),{}),that.renderDate()}},daysClick:function(t){if(!jet.hasClass(this,"disabled")){var e,a,n=that.selectTime,s=jet.reMatch(t),i=that.selectValue.length,r="",l=[{},{}];if(range){if(1==i){var o=[that.selectValue[0],t];o.sort(function(t,e){return t>e?1:-1}),that.selectValue=o,jet.each(o,function(t,e){jet.each(jet.reMatch(e),function(e,a){l[t][ymdzArr[e]]=a})}),that.selectDate=l}else that.selectValue=[t],l=[{YYYY:s[0],MM:s[1],DD:s[2]}],that.selectDate=[{YYYY:s[0],MM:s[1],DD:s[2]},{}];e=jet.nextMonth(l[0].YYYY,l[0].MM),a=[{YYYY:l[0].YYYY,MM:l[0].MM,DD:l[0].DD},{YYYY:e.y,MM:e.m,DD:null}],that.storeData(jet.extend(a[0],n[0]),jet.extend(a[1],n[1])),that.renderDate()}else that.selectValue=[t],that.selectDate=[{YYYY:s[0],MM:s[1],DD:s[2]},{YYYY:s[0],MM:s[1],DD:s[2]}],jet.each(new Array(0==range?1:2),function(t){jet.each(s,function(e,a){l[t][ymdzArr[e]]=a}),jet.extend(l[t],n[t])}),opts.onClose?(that.storeData(jet.extend(l[0],n[0]),jet.extend(l[1],n[1])),that.renderDate()):(r=that.setValue(l,that.format),that.closeDate(),opts.donefun&&opts.donefun.call(that,{elem:that.valCell,val:r,date:l}))}},hmsClick:function(t,e){var a=parseInt(e),n=parseInt(jet.text(this)),s=parseInt(t),i="action",r=["hh","mm","ss"],l=$Q(".jedate-time",that.dateCell).querySelectorAll("ul")[a],o=that.$data.timelist[0].length;if(!jet.hasClass(this,"disabled")){jet.each(l.childNodes,function(t,e){var a=new RegExp("(^|\\s+)"+i+"(\\s+|$)","g");e.className=a.test(e.className)?e.className.replace(a,""):e.className}),that.selectTime[s][1==s?r[a-o]:r[a]]=n,this.className=this.className+i;var h=l.querySelector("."+i);if(l.scrollTop=h?h.offsetTop-145:0,7==that.dlen&&0==t&&range&&!multi){var d=that.getValue({}),c=jet.nextMonth(d[0].YYYY,d[0].MM),u=that.selectTime;that.storeData({YYYY:d[0].YYYY,MM:d[0].MM,DD:null,hh:u[0].hh,mm:u[0].mm,ss:u[0].ss},{YYYY:c.y,MM:c.m,DD:null,hh:u[1].hh,mm:u[1].mm,ss:u[1].ss}),that.renderDate()}}},timeBtn:function(){var t=$Q(".jedate-time",elCell),e="none"==t.style.display;jet.text(this,e?opts.language.backtxt:opts.language.timetxt[0]),jet.setCss(t,{display:e?"block":"none"})},clearBtn:function(){jet.valText(that.valCell,""),that.selectDate=[jet.parse(jet.getDateTime({}),"YYYY-MM-DD hh:mm:ss")],that.closeDate()},nowBtn:function(){var t,e=jet.getDateTime({}),a=jet.nextMonth(e.YYYY,e.MM);that.selectDate=[e],t=opts.isShow?that.setValue([e],that.format,!0):jet.parse(e,that.format),opts.onClose&&range||!opts.isShow?(that.storeData(e,{YYYY:a.y,MM:a.m,DD:null,hh:0,mm:0,ss:0}),that.renderDate()):that.closeDate(),opts.donefun&&opts.donefun.call(that,{elem:that.valCell,val:t,date:e})},sureBtn:function(){var t=that.selectValue.length>1?[{},{}]:[{}],e="",a=that.selectTime,n=function(t){var e=void 0==t.hh?0:t.hh,a=void 0==t.mm?0:t.mm,n=void 0==t.ss?0:t.ss;return parseInt(jet.digit(e)+""+jet.digit(a)+jet.digit(n))};if(range){if(that.selectValue.length>1){var s=that.selectValue;s.sort(function(t,e){return t>e?1:-1}),jet.each(s,function(e,n){jet.each(jet.reMatch(n),function(a,n){t[e][ymdzArr[a]]=n}),jet.extend(t[e],a[e])})}else 7==that.dlen&&a.length>1&&(t=a);var i=n(a[0])>=n(a[1]),r=that.selectValue,l="";if(void 0!=r[1]&&(l=r[0].replace(/\-/g,"")==r[1].replace(/\-/g,"")),1==r.length&&that.dlen<7)return void that.tips("cn"==opts.language.name?"未选结束日期":"Please select the end date");if(7==that.dlen&&i||l&&i)return void that.tips("cn"==opts.language.name?"结束时间必须大于开始时间":"The end time must be greater than the start time")}else jet.each(new Array(0==range?1:2),function(e){7!=that.dlen&&jet.each(jet.reMatch(that.selectValue[0]),function(a,n){t[e][ymdzArr[a]]=n}),jet.extend(t[e],a[e])});e=that.setValue(t,that.format,!!opts.isShow),
opts.isShow&&that.closeDate(),opts.donefun&&opts.donefun.call(that,{elem:that.valCell,val:e,date:t})},blankArea:function(){jet.on(document,"mouseup",function(t){jet.stopPropagation(t),that.closeDate()}),jet.on($Q(elx),"mouseup",function(t){jet.stopPropagation(t)})}})},eachYear:function(t,e){var a,n=this,s=(n.$opts,parseInt(t)),i=[],r="",l=n.selectDate,o=jet.reMatch(n.minDate),h=jet.reMatch(n.maxDate);a=1==e?s:n.yindex,n.yindex=1==e?12+s:12+n.yindex;for(var d=void 0==l[1]?"":l[1].YYYY;a<n.yindex;a++)r=a==l[0].YYYY||a==d?"action":a>l[0].YYYY&&a<d?"contain":a<o[0]||a>h[0]?"disabled":"",i.push({style:r,y:a});return i},eachMonth:function(t,e){var a=this,n=a.$opts,s=(n.range,[]),i=a.selectDate,r="",l=n.language.month,o=jet.reMatch(a.minDate),h=jet.reMatch(a.maxDate),d=parseInt(o[0]+""+jet.digit(o[1])),c=parseInt(h[0]+""+jet.digit(h[1])),u=parseInt(i[0].YYYY+""+jet.digit(i[0].MM)),m=i[1]?parseInt(i[1].YYYY+""+jet.digit(i[1].MM)):0;return jet.each(l,function(e,a){var n=parseInt(t+""+jet.digit(a));r=n==u||n==m?"action":n>u&&n<m?"contain":n<d||n>c?"disabled":"",s.push({style:r,y:t,m:a})}),s},eachDays:function(t,e,a,n){for(var s=this,i=0,r=[],l=s.$opts,o=(jet.isBool(l.multiPane),new Date(t,e-1,1).getDay()||7),h=(0!=l.range,jet.getDaysNum(t,e)),d=s.selectDate,c=jet.prevMonth(t,e),u=(jet.isBool(l.isShow),jet.getDaysNum(t,c.m)),m=jet.nextMonth(t,e),p=(s.valCell,l.language),v=l.valiDate||[],Y=jet.reMatch(s.minDate),f=parseInt(Y[0]+""+jet.digit(Y[1])+jet.digit(Y[2])),y=jet.reMatch(s.maxDate),j=parseInt(y[0]+""+jet.digit(y[1])+jet.digit(y[2])),g=d[0]?parseInt(d[0].YYYY+""+jet.digit(d[0].MM)+jet.digit(d[0].DD)):"",D=d[1]?parseInt(d[1].YYYY+""+jet.digit(d[1].MM)+jet.digit(d[1].DD)):"",M=function(t,e,a){var n=l.marks,s=function(t,e){for(var a=t.length;a--;)if(t[a]===e)return!0;return!1},i=jet.isType(n,"array");return i&&n.length>0&&s(n,t+"-"+jet.digit(e)+"-"+jet.digit(a))?'<i class="marks"></i>':""},x=function(t,e,a){var n="";if(1==l.festival&&"cn"==p.name){var s=jeLunar(t,e-1,a),i=s.solarFestival||s.lunarFestival,r=""!=(i&&s.jieqi)?i:s.jieqi||s.showInLunar;n='<p><span class="solar">'+a+'</span><span class="lunar">'+r+"</span></p>"}else n='<p class="nolunar">'+a+"</p>";return n},b=function(t,e,a,n){var s=parseInt(t+""+jet.digit(e)+jet.digit(a));if(n){if(s>=f&&s<=j)return!0}else if(f>s||j<s)return!0},C=function(t,e){var a=function(t,e){for(var a in e)if(e[a]==t)return!0;return!1};if(v.length>0&&""!=v[0])if(/\%/g.test(v[0])){var n=v[0].replace(/\%/g,"").split(","),i=[];jet.each(n,function(t,e){i.push(jet.digit(parseInt(e)))});var r=0==a(jet.digit(t),i);e=jet.isBool(v[1])?r?" disabled":e:r?e:" disabled"}else{var l=s.dateRegExp(v[0]),o=l.test(jet.digit(t));e=jet.isBool(v[1])?o?" disabled":e:o?e:" disabled"}return e},w=u-o+1;w<=u;w++,i++){var T=M(c.y,c.m,w),I=b(c.y,c.m,w,!1)?"disabled":"other";I=C(w,I),r.push({style:I,ymd:c.y+"-"+jet.digit(c.m)+"-"+jet.digit(w),day:x(c.y,c.m,w)+T})}for(var $=1;$<=h;$++,i++){var S=M(t,e,$),V="",A=parseInt(t+""+jet.digit(e)+jet.digit($)),k=A>g,z=A<D;V=b(t,e,$,!0)?A==g||A==D?" action":k&&z?" contain":"":" disabled",V=C($,V),r.push({style:"normal"+V,ymd:t+"-"+jet.digit(e)+"-"+jet.digit($),day:x(t,e,$)+S})}for(var L=1,F=42-i;L<=F;L++){var B=M(m.y,m.m,L),E=b(m.y,m.m,L,!1)?"disabled":"other";E=C(L,E),r.push({style:E,ymd:m.y+"-"+jet.digit(m.m)+"-"+jet.digit(L),day:x(m.y,m.m,L)+B})}return r},eachTime:function(t,e){var a=this,n=a.$opts,s=n.range,i=n.multiPane,r=[],l=[],o=["hh","mm","ss"],h=[],d="",c=a.format,u=jet.trim(a.minDate).replace(/\s+/g," "),m=jet.trim(a.maxDate).replace(/\s+/g," "),p=u.split(" "),v=m.split(" ");return a.dlen>3&&/\:/.test(p)&&/\:/.test(v)&&(r=jet.reMatch(/\s/.test(u)&&a.dlen>3?p[1]:u),l=jet.reMatch(/\s/.test(m)&&a.dlen>3?v[1]:m)),jet.each([24,60,60],function(n,u){h[n]=[];var m=void 0==r[n]||0==r[n]?t[o[n]]:r[n],v=""==a.getValue()?m:t[o[n]];a.dlen>3&&/\:/.test(p)&&1==e&&(a.selectTime[0][o[n]]=v);for(var Y=0;Y<u;Y++){var f=new RegExp(o[n],"g").test(c);d=Y==v?f?"action":"disabled":!f||!s&&i&&(Y<r[n]||Y>l[n])?"disabled":i?"":1==e&&Y<r[n]||2==e&&Y>l[n]?"disabled":"",h[n].push({style:d,hms:Y})}}),h},closeDate:function(){var t=$Q(elx),e=$Q("#jedatetipscon");t&&document.body.removeChild(t),e&&document.body.removeChild(e),this.setDatas()},parseValue:function(t,e){var a=this,n=[],s=a.$opts,i=s.range;return jet.each(t,function(t,a){n.push(jet.parse(a,e))}),0==i?n[0]:n.join(i)},dateRegExp:function(valArr){var enval=valArr.split(",")||[],regs="",doExp=function(val){var arr,tmpEval,regs=/#?\{(.*?)\}/;for(val+="";null!=(arr=regs.exec(val));)arr.lastIndex=arr.index+arr[1].length+arr[0].length-arr[1].length-1,tmpEval=parseInt(eval(arr[1])),tmpEval<0&&(tmpEval="9700"+-tmpEval),val=val.substring(0,arr.index)+tmpEval+val.substring(arr.lastIndex+1);return val};if(enval&&enval.length>0){for(var i=0;i<enval.length;i++)regs+=doExp(enval[i]),i!=enval.length-1&&(regs+="|");regs=regs?new RegExp("(?:"+regs+")"):null}else regs=null;return regs},showFestival:function(){var t=this,e=t.$opts;jet.each(t.dateCell.querySelectorAll(".daystable td"),function(a,n){var s=jet.reMatch(jet.attr(n,"ymd")),i=document.createElement("div");n.removeAttribute("ymd"),jet.on(n,"mouseover",function(){var a=new jeLunar(s[0],s[1]-1,s[2]);if(!$Q("#jedatetipscon")){i.id=i.className="jedatetipscon";var n="<p>"+a.solarYear+"年"+a.solarMonth+"月"+a.solarDate+"日 "+a.inWeekDays+'</p><p class="red">农历：'+a.shengxiao+"年 "+a.lnongMonth+"月"+a.lnongDate+"</p><p>"+a.ganzhiYear+"年 "+a.ganzhiMonth+"月 "+a.ganzhiDate+"日</p>",r=""!=(a.solarFestival||a.lunarFestival)?'<p class="red">'+("节日："+a.solarFestival+a.lunarFestival)+"</p>":"",l=""!=a.jieqi?'<p class="red">'+(""!=a.jieqi?"节气："+a.jieqi:"")+"</p>":"",o=""!=(a.solarFestival||a.lunarFestival||a.jieqi)?r+l:"";jet.html(i,n+o),document.body.appendChild(i);var h=t.lunarOrien(i,this);jet.setCss(i,{zIndex:void 0==e.zIndex?10005:e.zIndex+5,top:h.top,left:h.left,position:"absolute",display:"block"})}}),jet.on(n,"mouseout",function(){document.body.removeChild($Q("#jedatetipscon"))})}),1!==t.dateCell.nodeType||jet.hasClass(t.dateCell,"grid")||(t.dateCell.className=t.dateCell.className+" grid")},lunarOrien:function(t,e,a){var n,s,i,r,l=e.getBoundingClientRect(),o=t.offsetWidth,h=t.offsetHeight;return s=l.right+o/1.5>=jet.docArea(!0)?l.right-o:l.left+(a?0:jet.docScroll(!0)),n=l.bottom+h/1<=jet.docArea()?l.bottom-1:l.top>h/1.5?l.top-h-1:jet.docArea()-h,s+o>jet.docArea(!0)&&(s=l.left-(o-l.width)),i=Math.max(n+(a?0:jet.docScroll())+1,1)+"px",r=s+"px",{top:i,left:r}},dateOrien:function(t,e,a){var n,s,i,r,l=this,o=l.$opts.fixed?e.getBoundingClientRect():t.getBoundingClientRect(),s=o.left,n=o.bottom;if(l.$opts.fixed){var h=t.offsetWidth,d=t.offsetHeight;s+h>jet.docArea(!0)&&(s-=h-o.width),n+d>jet.docArea()&&(n=o.top>d?o.top-d-2:jet.docArea()-d-1),i=Math.max(n+(a?0:jet.docScroll())+1,1)+"px",r=s+"px"}else i="50%",r="50%",t.style.cssText="marginTop:"+-(o.height/2)+";marginLeft:"+-(o.width/2);jet.setCss(t,{top:i,left:r})},tips:function(t,e){var a,n=this,s=$Q(".jedate-tips",n.dateCell);jet.html(s,t||""),jet.setCss(s,{display:"block"}),clearTimeout(a),a=setTimeout(function(){jet.html(s,""),jet.setCss(s,{display:"none"})},1e3*(e||2.5))},locateScroll:function(){var t=this,e=$Q(".jedate-time",t.dateCell).querySelectorAll("ul");jet.each(e,function(t,e){var a=e.querySelector(".action");e.scrollTop=a?a.offsetTop-145:0}),7!=t.dlen&&jet.setCss($Q(".jedate-time",t.dateCell),{display:"none"})}}),jeDate});
//# sourceMappingURL=jedate.js.map
