{"version":3,"sources":["public/jedate.js"],"names":["window","factory","define","amd","exports","module","jeDate","this","DateTime","arr","valObj","that","newdate","Date","narr","vb","jet","extend","YYYY","MM","DD","hh","getHours","mm","getMinutes","ss","getSeconds","ND","undefined","length","each","i","par","parseInt","reDate","GetValue","GetYear","getFullYear","GetMonth","getMonth","GetDate","getDate","GetHours","GetMinutes","GetSeconds","jeDatePick","elem","options","config","language","name","month","weeks","times","timetxt","backtxt","clear","today","yes","format","minDate","maxDate","isShow","multiPane","onClose","range","trigger","position","valiDate","isinitVal","initDate","isTime","isClear","isToday","isYes","festival","fixed","zIndex","method","theme","shortcut","donefun","before","succeed","$opts","valCell","$Q","init","alert","jeLunar","ly","lm","ld","flunar","Y","sTerm","j","h","sTermInfo","UTC","getUTCDate","d","k","lunarInfo","b","ymdCyl","Gan","charAt","Zhi","islp","g","e","newymd","m","l","n","dayCyl","monCyl","year","yearCyl","isLeap","day","digit","num","reymd","replace","substring","toString","lunarMD","nStr2","Math","floor","nStr1","isRestDay","solarYear","solarMonth","solarDate","solarWeekDay","getDay","inWeekDays","X","lunarYear","shengxiao","Animals","lunarMonth","lunarIsLeapMonth","lnongMonth","nStr3","lunarDate","showInLunar","lnongDate","ganzhiYear","ganzhiMonth","ganzhiDate","jieqi","restDays","solarTerm","solarFestival","sFtv1","test","RegExp","$1","lunarFestival","sFtv2","0101","0202","0214","0308","0312","0315","0401","0422","0501","0504","0512","0518","0520","0601","0623","0630","0701","0801","0903","0910","1001","1201","1224","1225","0100","0115","0505","0707","0715","0815","0909","1015","1208","1223","doc","document","win","regymdzz","gr","regymd","selector","content","nodeType","querySelector","opts","dateVer","src","copy","deep","target","arguments","nowDate","val","isNaN","parse","getDateTime","convert","obj","addval","mats","reMatch","objVal","cval","result","redate","valText","value","timeStampDate","date","dateTest","vdate","setdate","arrs","timeStr","round","getTime","getLunar","lunars","nM","nD","cY","cM","cD","cW","nW","ymdhms","str","index","isType","type","firstUper","toLowerCase","toUpperCase","Object","prototype","call","callback","args","iselem","on","elm","fn","addEventListener","attachEvent","isObj","trim","smarr","maStr","parti","isNum","match","push","equals","arrA","arrB","Array","docScroll","body","documentElement","docArea","getDaysNum","y","getYM","nd","setMonth","prevMonth","nextMonth","setCss","x","style","html","innerHTML","outerHTML","text","innText","all","attr","getAttribute","hasClass","cls","className","stopPropagation","ev","event","cancelBubble","template","data","strCell","getElementById","dataVar","vars","key","compile","source","code","Render","Function","isValDiv","tagName","toLocaleLowerCase","cell","isBool","matArr","mat","reVal","searandom","random","jefix","ymdzArr","elx","inVal","trigges","ndate","setDatas","getValue","setValue","getCurrValue","isEmpty","curVal","parmat","dlen","selectValue","getVal","split","a","parr","nmVal","selectDate","ymarr","querySelectorAll","gvarr","storeData","renderDate","dateCell","shortArr","multi","$data","time","timebtn","lang","yaerlist","monthlist","ymlist","daylist","pane","short","tarr","shval","s","join","marr","mval","matlen","lens","timeInspect","elxID","setzin","createElement","id","setAttribute","dateTemplate","styleDiv","stCell","t","BG","bgcolor","WC","color","OTH","pnColor","appendChild","compileBindNode","removeChild","methodEventBind","locateScroll","showFestival","dateOrien","blankArea","fnStr","matStr","bool","strVal","sprange","inArr","sval","inObj","r","vals","parseValue","valobj","reObj","dateY","dateM","dateD","timeh","timem","isValShow","objarr","ranMat","newArr","unObj","defObj","zz","isunRange","initVal","spVal","reMat","exVal","curr","next","seltime","days","isnext","RES","yearlist","daytit","timelist","cday","nday","timeA","timeB","eachYear","yearNext","eachMonth","eachDays","dayNext","selectTime","eachTime","YMDStr","hmsStr","ytxt","mtxt","aowArr","butArr","ismu","lyPrev","ryNext","mPrev","mNext","yaerHtml","monthHtml","daysHtml","hmsHtml","shortHtml","ymtitHtml","ymtitStr","ymButton","titStrBut","paneHtml","btnStr","dom","self","aton","acquireAttr","atVal","exec","childNodes","node","removeAttribute","geton","onarr","apply","DTS","elCell","yearBtn","yarr","tmval","exarr","dateVal","toggle","yearShow","dayCell","display","monthBtn","PrevYM","NextYM","PNYM","monthShow","shortClick","reval","evobj","eval","gval","nYM","closeDate","yearClick","yearVal","ylen","svalarr","sort","strval","dval","electVal","monthClick","ymval","mlen","daysClick","matVal","slen","hmsClick","idx","pidx","paridx","act","mhms","ulCell","tlen","reg","hmsCls","scrollTop","offsetTop","nVal","st","timeBtn","timeCell","disNo","clearBtn","nowBtn","sureBtn","equal","o","sortarr","sameTime","selVal","sameDate","tips","yNum","seCls","selYear","mins","maxs","yindex","endDate","selMonth","monthArr","minym","maxym","currStart","currEnd","months","ival","yd","md","ds","count","daysArr","firstWeek","daysNum","sDate","prevM","prevDaysNum","nextM","endval","minArr","minNum","maxArr","maxNum","startDate","setMark","my","Marks","marks","contains","clen","isArr","isfestival","festivalStr","lunar","feslunar","lunartext","dateLimit","M","D","isMonth","thatNum","regExpDate","inArray","search","array","enArr","rel","isfind","valreg","dateRegExp","regday","p","pmark","pcls","ymd","bmark","bcls","dateval","parsdate","rangdate","nlen","nmark","ncls","hmsArr","minVal","maxVal","timeArr","ntVal","xtVal","xVal","unhmsVal","currVal","exists","hms","tipelem","fnObj","valArr","enval","regs","doExp","tmpEval","lastIndex","tval","tipDiv","tiphtml","Fesjieri","Fesjieqi","tiptext","tipPos","lunarOrien","top","left","pos","tops","leris","ortop","orleri","rect","getBoundingClientRect","boxW","offsetWidth","boxH","offsetHeight","right","bottom","width","max","elbox","valCls","cssText","height","tipTime","tipCls","clearTimeout","setTimeout"],"mappings":"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","file":"jedate.js","sourcesContent":["/**\r\n @Name : jeDate v6.5.0 日期控件\r\n @Author: chen guojun\r\n @Date: 2018-04-30\r\n @QQ群：516754269\r\n @官网：http://www.jemui.com/ 或 https://github.com/singod/jeDate\r\n */\r\n;(function(window, factory) {\r\n    //amd\r\n    if (typeof define === 'function' && define.amd) {\r\n        define(factory);\r\n    } else if (typeof exports === 'object') { //umd\r\n        module.exports = factory();\r\n    } else {\r\n        window.jeDate = factory();\r\n    }\r\n})(this, function() {    \r\n    var doc = document, win = window;\r\n    var jet = {}, doc = document, regymdzz = \"YYYY|MM|DD|hh|mm|ss|zz\", gr = /\\-/g,\r\n        regymd = \"YYYY|MM|DD|hh|mm|ss|zz\".replace(\"|zz\",\"\"), parseInt = function (n) { return window.parseInt(n, 10);};\r\n    var $Q = function (selector,content) {\r\n        content = content || document;\r\n        return selector.nodeType ? selector : content.querySelector(selector);\r\n    };\r\n    var jeDate = function(elem,options){\r\n        var opts = typeof (options) === \"function\" ? options() : options;\r\n        return new jeDatePick(elem,opts);\r\n    };\r\n    //日期控件版本\r\n    jeDate.dateVer = \"V6.5.0\";\r\n    //用一个或多个其他对象来扩展一个对象，返回被扩展的对象\r\n    jeDate.extend = jet.extend = function () {\r\n        var options, name, src, copy,deep = false, target = arguments[0], i = 1, length = arguments.length;\r\n        if (typeof (target) === \"boolean\") deep = target, target = arguments[1] || {}, i = 2;\r\n        if (typeof (target) !== \"object\" && typeof (target) !== \"function\") target = {};\r\n        if (length === i) target = this, --i;\r\n        for (; i < length; i++) {\r\n            if ((options = arguments[i]) != null) {\r\n                for (name in options) {\r\n                    src = target[name], copy = options[name];\r\n                    if (target === copy) continue;\r\n                    if (copy !== undefined) target[name] = copy;\r\n                }\r\n            }\r\n        }\r\n        return target;\r\n    };\r\n    //返回指定日期\r\n    jeDate.nowDate = function (val,format) {\r\n        format = format || 'YYYY-MM-DD hh:mm:ss';\r\n        if (!isNaN(val)) val = {DD: val};\r\n        return jet.parse(jet.getDateTime(val),format);\r\n    };\r\n    //日期转换\r\n    jeDate.convert = function (obj) {\r\n        obj.format = obj.format || 'YYYY-MM-DD hh:mm:ss';\r\n        obj.addval = obj.addval || [];\r\n        var mats = jet.reMatch(obj.format),objVal = {};\r\n        jet.each(jet.reMatch(obj.val),function (i,cval) {\r\n            objVal[mats[i]] = parseInt(cval);\r\n        });\r\n        var result = new DateTime(obj.addval,objVal), redate = { \r\n            YYYY:result.GetYear(), MM:result.GetMonth(), DD:result.GetDate(),\r\n            hh:result.GetHours(), mm:result.GetMinutes(), ss:result.GetSeconds()\r\n        };\r\n        return redate;\r\n    };\r\n    jeDate.valText = function (elem,value) {\r\n        return jet.valText(elem,value);     \r\n    }\r\n    //日期时间戳相互转换\r\n    jeDate.timeStampDate = function (date,format) {\r\n        format = format || 'YYYY-MM-DD hh:mm:ss';\r\n        var dateTest = (/^(-)?\\d{1,10}$/.test(date) || /^(-)?\\d{1,13}$/.test(date));\r\n        if(/^[1-9]*[1-9][0-9]*$/.test(date) && dateTest){\r\n            var vdate = parseInt(date);\r\n            if (/^(-)?\\d{1,10}$/.test(vdate)) {\r\n                vdate = vdate * 1000;\r\n            } else if (/^(-)?\\d{1,13}$/.test(vdate)) {\r\n                vdate = vdate * 1000;\r\n            } else if (/^(-)?\\d{1,14}$/.test(vdate)) {\r\n                vdate = vdate * 100;\r\n            } else {\r\n                alert(\"时间戳格式不正确\");\r\n                return;\r\n            }\r\n            var setdate = new Date(vdate);\r\n            return jet.parse({\r\n                YYYY:setdate.getFullYear(), MM:jet.digit(setdate.getMonth()+1), DD:jet.digit(setdate.getDate()) , \r\n                hh:jet.digit(setdate.getHours()), mm:jet.digit(setdate.getMinutes()), ss:jet.digit(setdate.getSeconds()) \r\n            }, format);\r\n        }else {\r\n            //将日期转换成时间戳\r\n            var arrs = jet.reMatch(date),\r\n                newdate = new Date(arrs[0],arrs[1]-1,arrs[2],arrs[3]||0,arrs[4]||0,arrs[5]||0),\r\n                timeStr = Math.round(newdate.getTime() / 1000);\r\n            return timeStr;\r\n        }\r\n    };\r\n    //获取年月日星期\r\n    jeDate.getLunar = function(obj){\r\n        //如果为数字类型的日期对获取到日期的进行替换\r\n        var lunars = jeLunar(obj.YYYY, parseInt(obj.MM) - 1, obj.DD);\r\n        return{\r\n            nM: lunars.lnongMonth,              //农历月\r\n            nD: lunars.lnongDate,               //农历日\r\n            cY: parseInt(lunars.solarYear),     //阳历年\r\n            cM: parseInt(lunars.solarMonth),    //阳历月\r\n            cD: parseInt(lunars.solarDate),     //阳历日\r\n            cW: lunars.inWeekDays,              //汉字星期几\r\n            nW: lunars.solarWeekDay             //数字星期几\r\n        };\r\n    };\r\n    //转换日期格式\r\n    jeDate.parse = jet.parse = function(ymdhms, format) {\r\n        return format.replace(new RegExp(regymdzz,\"g\"), function(str, index) {\r\n            return str == \"zz\" ? \"00\":jet.digit(ymdhms[str]);\r\n        });\r\n    }\r\n    //返回日期\r\n    function DateTime(arr,valObj) {\r\n        var that = this,newdate = new Date(), narr = [\"FullYear\",\"Month\",\"Date\",\"Hours\",\"Minutes\",\"Seconds\"]; \r\n        var vb = jet.extend({YYYY:null,MM:null,DD:null,hh:newdate.getHours(),mm:newdate.getMinutes(),ss:newdate.getSeconds()},valObj);\r\n        var ND = valObj == undefined ? newdate : new Date(vb.YYYY,vb.MM,vb.DD,vb.hh,vb.mm,vb.ss);\r\n        if((arr||[]).length>0) jet.each(arr,function (i,par) { \r\n            ND[\"set\"+narr[i]](narr[i] == \"Month\" ? parseInt(par)-1:parseInt(par)); \r\n        });\r\n        //返回一个数值相同的新DateTime对象 \r\n        that.reDate = function () {\r\n            return new DateTime();\r\n        };\r\n        //返回此实例的Date值 \r\n        that.GetValue = function () {\r\n            return ND;\r\n        };\r\n        //获取此实例所表示日期的年份部分。 \r\n        that.GetYear = function () {\r\n            return ND.getFullYear();\r\n        };\r\n        //获取此实例所表示日期的月份部分。 \r\n        that.GetMonth = function () {\r\n            return ND.getMonth() + 1;\r\n        };\r\n        //获取此实例所表示的日期为该月中的第几天。 \r\n        that.GetDate = function () {\r\n            return ND.getDate();\r\n        };\r\n        //获取此实例所表示日期的小时部分。 \r\n        that.GetHours = function () {\r\n            return ND.getHours();\r\n        };\r\n        //获取此实例所表示日期的分钟部分。 \r\n        that.GetMinutes = function () {\r\n            return ND.getMinutes();\r\n        };\r\n        //获取此实例所表示日期的秒部分。 \r\n        that.GetSeconds = function () {\r\n            return ND.getSeconds();\r\n        };\r\n    };\r\n\r\n    jet.extend(jet,{\r\n        isType : function (obj,type) {\r\n            var firstUper = function (str) {\r\n                str = str.toLowerCase();\r\n                return str.replace(/\\b(\\w)|\\s(\\w)/g, function (m) {\r\n                    return m.toUpperCase();\r\n                });\r\n            }\r\n            return Object.prototype.toString.call(obj) == \"[object \" + firstUper(type) + \"]\";\r\n        },\r\n        each : function (obj, callback, args) {\r\n            var name, i = 0, length = obj.length, iselem = (length === undefined || obj === \"function\");\r\n            if (iselem) {\r\n                for (name in obj) { if (callback.call(obj[name], name, obj[name]) === false) { break } }\r\n            } else {\r\n                for (; i < length;) { if (callback.call(obj[i], i, obj[i++]) === false) { break } }\r\n            }            \r\n            return obj;\r\n        },\r\n        on : function (elm, type, fn) {\r\n            if (elm.addEventListener) {\r\n                elm.addEventListener(type, fn, false);//DOM2.0\r\n                return true;\r\n            }else if (elm.attachEvent) {\r\n                return elm.attachEvent(\"on\" + type, fn);//IE5+\r\n            }else {\r\n                elm[\"on\" + type] = fn;//DOM 0\r\n            }\r\n        },\r\n        isObj : function (obj){\r\n            for(var i in obj){return true;}\r\n            return false;\r\n        },\r\n        trim : function (str){ return str.replace(/(^\\s*)|(\\s*$)/g, \"\"); }, \r\n        reMatch : function (str) {\r\n            var smarr = [],maStr = \"\", parti = /(^\\w{4}|\\w{2}\\B)/g;\r\n            if(jet.isNum(str)){\r\n                maStr =  str.replace(parti,\"$1-\");\r\n            }else{\r\n                maStr = /^[A-Za-z]+$/.test(str) ? str.replace(parti,\"$1-\") : str;   \r\n            }\r\n            jet.each(maStr.match(/\\w+|d+/g),function (i,val) {\r\n                smarr.push(jet.isNum(val) ? parseInt(val):val);\r\n            });\r\n            return smarr;\r\n        },\r\n        equals : function (arrA,arrB) {\r\n            if (!arrB) return false;\r\n            if (arrA.length != arrB.length) return false;\r\n            for (var i = 0, l = arrA.length; i < l; i++) {\r\n                if (arrA[i] instanceof Array && arrB[i] instanceof Array) {\r\n                    if (!arrA[i].equals(arrB[i])) return false;\r\n                } else if (arrA[i] != arrB[i]) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n        docScroll : function(type) {\r\n            type = type ? \"scrollLeft\" :\"scrollTop\";\r\n            return document.body[type] | document.documentElement[type];\r\n        },\r\n        docArea : function(type) {\r\n            return document.documentElement[type ? \"clientWidth\" :\"clientHeight\"];\r\n        },\r\n        //补齐数位\r\n        digit : function(num) {\r\n            return num < 10 ? \"0\" + (num | 0) :num;\r\n        },\r\n        //判断是否为数字\r\n        isNum : function(value){\r\n            return /^[+-]?\\d*\\.?\\d*$/.test(value) ? true : false;\r\n        },\r\n        //获取本月的总天数\r\n        getDaysNum : function(y, m) {\r\n            var num = 31,isLeap = (y % 100 !== 0 && y % 4 === 0) || (y % 400 === 0);\r\n            switch (parseInt(m)) {\r\n                case 2: num = isLeap ? 29 : 28; break;\r\n                case 4: case 6: case 9: case 11: num = 30; break;\r\n            }\r\n            return num;\r\n        },\r\n        //获取月与年\r\n        getYM : function(y, m, n) {\r\n            var nd = new Date(y, m - 1);\r\n            nd.setMonth(m - 1 + n);\r\n            return {\r\n                y: nd.getFullYear(),\r\n                m: nd.getMonth() + 1\r\n            };\r\n        },\r\n        //获取上个月\r\n        prevMonth : function(y, m, n) {\r\n            return jet.getYM(y, m, 0 - (n || 1));\r\n        },\r\n        //获取下个月\r\n        nextMonth : function(y, m, n) {\r\n            return jet.getYM(y, m, n || 1);\r\n        },\r\n        setCss:function(elem,obj) {\r\n            for (var x in obj) elem.style[x] = obj[x];\r\n        },\r\n        html : function (elem,html) {\r\n            return typeof html === \"undefined\" ? elem && elem.nodeType === 1 ? elem.innerHTML :undefined :typeof html !== \"undefined\" && html == true ? elem && elem.nodeType === 1 ? elem.outerHTML :undefined : elem.innerHTML = html;\r\n                \r\n        },\r\n        // 读取设置节点文本内容\r\n        text : function(elem,value) {\r\n            var innText = document.all ? \"innerText\" :\"textContent\";\r\n            return typeof value === \"undefined\" ? elem && elem.nodeType === 1 ? elem[innText] :undefined : elem[innText] = value;\r\n        },\r\n        //设置值\r\n        val : function (elem,value) {\r\n            if (typeof value === \"undefined\") {\r\n                return elem && elem.nodeType === 1 && typeof elem.value !== \"undefined\" ? elem.value :undefined;\r\n            }\r\n            // 将value转化为string\r\n            value = value == null ? \"\" :value + \"\";\r\n            elem.value = value;\r\n        },\r\n        attr : function(elem,value){\r\n            return elem.getAttribute(value);\r\n        },\r\n        hasClass : function (obj, cls) {\r\n            return obj.className.match(new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)'));\r\n        },\r\n        stopPropagation : function (ev) { \r\n            (ev && ev.stopPropagation) ? ev.stopPropagation() : window.event.cancelBubble = true;  \r\n        },\r\n        template : function (str, data) {\r\n            var strCell = !/[^\\w\\-\\.:]/.test(str) ? document.getElementById(str).innerHTML : str;\r\n            var keys = function (obj){\r\n                var arr = [];\r\n                for(arr[arr.length] in obj);\r\n                return arr ;\r\n            }, dataVar = function (obj) {\r\n                var vars = ''; \r\n                for (var key in obj) {\r\n                    vars += 'var ' + key + '= $D[\"' + key + '\"];';\r\n                }\r\n                return vars;\r\n            }, compile = function (source,data) {\r\n                var code = \"var $out='\" + source.replace(/[\\r\\n]/g, '').replace(/^(.+?)\\{\\%|\\%\\}(.+?)\\{\\%|\\%\\}(.+?)$/g, function (val) {\r\n                        return val.replace(/(['\"])/g, '\\\\\\$1');\r\n                    }).replace(/\\{\\%\\s*=\\s*(.+?)\\%\\}/g, \"';$out+=$1;$out+='\").replace(/\\{\\%(.+?)\\%\\}/g, \"';$1;$out+='\") + \"';return new String($out);\";\r\n                var vars = dataVar(data), Render = new Function('$D',vars + code);\r\n                return new Render(data) + '';\r\n            };\r\n            return compile(strCell,data);\r\n        },\r\n        \r\n        //判断元素类型\r\n        isValDiv : function(elem) {\r\n            return /textarea|input/.test(elem.tagName.toLocaleLowerCase());\r\n        },\r\n        valText : function (elem,value) {\r\n            var cell = $Q(elem) ,type = jet.isValDiv(cell) ? \"val\" : \"text\";\r\n            if(value != undefined){\r\n                jet[type](cell,value);  \r\n            }else{\r\n                return jet[type](cell);\r\n            }       \r\n        },\r\n        isBool : function(obj){  return (obj == undefined || obj == true ?  true : false); },\r\n        //获取返回的日期\r\n        getDateTime : function (obj) {\r\n            var result = new DateTime(), objVal = jet.extend({YYYY:null,MM:null,DD:null,hh:0,mm:0,ss:0},obj),\r\n                matArr = {YYYY:\"FullYear\",MM:\"Month\",DD:\"Date\",hh:\"Hours\",mm:\"Minutes\",ss:\"Seconds\"};\r\n            jet.each([\"ss\",\"mm\",\"hh\",\"DD\",\"MM\",\"YYYY\"],function (i,mat) {\r\n                if (!jet.isNum(parseInt(objVal[mat]))) return null;\r\n                var reVal = result.GetValue();\r\n                if (parseInt(objVal[mat]) || parseInt(objVal[mat]) == 0){\r\n                    reVal[\"set\"+matArr[mat]](result[\"Get\"+matArr[mat]]() + (mat == \"MM\" ? -1 : 0) + parseInt(objVal[mat]));\r\n                }\r\n            });\r\n            //获取格式化后的日期\r\n            var redate = { \r\n                YYYY:result.GetYear(), MM:result.GetMonth(), DD:result.GetDate(),\r\n                hh:result.GetHours(), mm:result.GetMinutes(), ss:result.GetSeconds()\r\n            };\r\n            return redate;\r\n        }\r\n    });\r\n\r\n    function jeDatePick(elem, options){\r\n        var config = {\r\n            language:{\r\n                name   : \"cn\",\r\n                month  : [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"],\r\n                weeks  : [ \"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\" ],\r\n                times  : [\"小时\",\"分钟\",\"秒数\"],\r\n                timetxt: [\"时间选择\",\"开始时间\",\"结束时间\"],\r\n                backtxt:\"返回日期\",\r\n                clear  : \"清空\",\r\n                today  : \"现在\",\r\n                yes    : \"确定\"\r\n            },\r\n            format:\"YYYY-MM-DD hh:mm:ss\",               //日期格式\r\n            minDate:\"1900-01-01 00:00:00\",              //最小日期\r\n            maxDate:\"2099-12-31 23:59:59\",              //最大日期\r\n            isShow:true,                                //是否显示为固定日历，为false的时候固定显示\r\n            multiPane:true,                             //是否为双面板，为false是展示双面板\r\n            onClose:true,                               //是否为选中日期后关闭弹层，为false时选中日期后关闭弹层\r\n            range:false,                                //如果不为空且不为false，则会进行区域选择，例如 \" 至 \"，\" ~ \"，\" To \"\r\n            trigger:\"click\",                            //是否为内部触发事件，默认为内部触发事件\r\n            position:[],                                //自定义日期弹层的偏移位置，长度为0，弹层自动查找位置\r\n            valiDate:[],                                //有效日期与非有效日期，例如 [\"0[4-7]$,1[1-5]$,2[58]$\",true]\r\n            isinitVal:false,                            //是否初始化时间，默认不初始化时间\r\n            initDate:{},                                //初始化时间，加减 天 时 分\r\n            isTime:true,                                //是否开启时间选择\r\n            isClear:true,                               //是否显示清空按钮\r\n            isToday:true,                               //是否显示今天或本月按钮\r\n            isYes:true,                                 //是否显示确定按钮\r\n            festival:false,                             //是否显示农历节日\r\n            fixed:true,                                 //是否静止定位，为true时定位在输入框，为false时居中定位\r\n            zIndex:2099,                                //弹出层的层级高度\r\n            method:{},                                 //自定义方法                \r\n            theme:{},                                   //自定义主题色\r\n            shortcut:[],                                //日期选择的快捷方式\r\n            donefun:null,                                //选中日期完成的回调\r\n            before:null,                                //在界面加载之前执行\r\n            succeed:null                                //在界面加载之后执行  \r\n        };\r\n        this.$opts = jet.extend(config,options||{});\r\n        this.valCell = $Q(elem); \r\n        this.format = this.$opts.format;\r\n        this.valCell != null ? this.init() : alert(elem+\"  ID\\u6216\\u7C7B\\u540D\\u4E0D\\u5B58\\u5728!\");\r\n        jet.extend(this,this.$opts.method);\r\n        delete this.$opts.method;\r\n    }\r\n    var searandom = function (){\r\n        var str = \"\",arr = [1,2,3,4,5,6,7,8,9,0];\r\n        for(var i=0; i<8; i++) str += arr[Math.round(Math.random() * (arr.length-1))];\r\n        return str;\r\n    };\r\n\r\n    var jefix = \"jefixed\",ymdzArr = jet.reMatch(regymdzz),elx = \"#jedate\";\r\n    jet.extend(jeDatePick.prototype,{\r\n        init : function () {  \r\n            var that = this, opts = that.$opts, newDate = new Date(), shortArr = [],\r\n                trigges = opts.trigger,ndate = opts.initDate || [], inVal, range = opts.range,\r\n                zIndex = opts.zIndex == undefined ? 10000 : opts.zIndex,isShow = jet.isBool(opts.isShow),\r\n                isinitVal = (opts.isinitVal == undefined || opts.isinitVal == false) ? false : true;\r\n            that.setDatas();\r\n            opts.before && opts.before(that.valCell);\r\n            //为开启初始化的时间设置值\r\n            if (isinitVal && trigges && isShow) {   \r\n                if (ndate[1]){\r\n                    var addval = jet.getDateTime(ndate[0]);\r\n                    inVal = [{\r\n                        YYYY:addval.YYYY, MM:jet.digit(addval.MM), DD:jet.digit(addval.DD) , \r\n                        hh:jet.digit(addval.hh), mm:jet.digit(addval.mm), ss:jet.digit(addval.ss) \r\n                    }];\r\n                }else {\r\n                    inVal = that.getValue(jet.isObj(ndate[0]) ? ndate[0] : {});\r\n                }\r\n                if(!range) that.setValue([inVal[0]],opts.format,true);\r\n            }\r\n\r\n            var getCurrValue = function () {\r\n                var mats = jet.reMatch(that.format), isEmpty = that.getValue() != \"\",curVal = [],\r\n                    parmat = that.dlen == 7 ? \"hh:mm:ss\" : \"YYYY-MM\"+ (that.dlen <= 2 ? \"\":\"-DD\");\r\n                that.selectValue = [jet.parse(jet.getDateTime({}), parmat)];\r\n                if(isEmpty && isShow){\r\n                    var getVal = that.getValue().split(range);\r\n                    jet.each(new Array(range ? 2 : 1),function (a) {\r\n                        curVal[a] = {};\r\n                        jet.each(jet.reMatch(getVal[a]),function (i,val) {\r\n                            curVal[a][mats[i]] = parseInt(val);\r\n                        });\r\n                    });\r\n                    if(range) that.selectValue = getVal;\r\n                }else{\r\n                    var parr = that.getValue({})[0], nmVal = jet.nextMonth(parr.YYYY,parr.MM||jet.getDateTime({}).MM),\r\n                        narr = (that.dlen>2 && that.dlen <=6) ? {YYYY:nmVal.y,MM:nmVal.m} : {};\r\n                    curVal = [parr];\r\n                }\r\n                that.selectDate = curVal;\r\n                return curVal;\r\n            },ymarr = [];\r\n            that.minDate = \"\"; that.maxDate = \"\";\r\n            if(!isShow || !trigges) ymarr = getCurrValue();\r\n            if(!isShow || !trigges){  \r\n                that.minDate = jet.isType(opts.minDate,\"function\") ? opts.minDate(that) : opts.minDate;\r\n                that.maxDate = jet.isType(opts.maxDate,\"function\") ? opts.maxDate(that) : opts.maxDate;\r\n                that.storeData(ymarr[0],ymarr[1]);\r\n                that.renderDate();\r\n                opts.succeed && opts.succeed(that.dateCell);\r\n            }else{\r\n                if (trigges) {\r\n                    jet.on(that.valCell,trigges,function(){\r\n                        if (document.querySelectorAll(elx).length > 0) return;\r\n                        var gvarr = getCurrValue();\r\n                        that.minDate = jet.isType(opts.minDate,\"function\") ? opts.minDate(that) : opts.minDate;\r\n                        that.maxDate = jet.isType(opts.maxDate,\"function\") ? opts.maxDate(that) : opts.maxDate;\r\n                        that.storeData(gvarr[0],gvarr[1]);\r\n                        that.renderDate();\r\n                    });\r\n                }\r\n            }        \r\n        },\r\n        setDatas : function(){\r\n            var that = this, opts = that.$opts,range = opts.range,shortArr = [],isShow = jet.isBool(opts.isShow),multi = opts.multiPane;\r\n            that.$data = jet.extend({year:false,month:false,day:true,time:false,timebtn:false},{\r\n                shortcut:[],lang:opts.language,yaerlist:[],monthlist:[[],[]],ymlist:[[],[]], daylist:[[],[]],\r\n                clear:opts.isClear,today:range ? false:opts.isToday,yes:opts.isYes,pane:multi ? 1:2\r\n            });\r\n            if(opts.shortcut.length>0){\r\n                jet.each(opts.shortcut,function (i,short) {  \r\n                    var tarr = [], shval = jet.isType(short.val,\"function\") ? short.val() : short.val;\r\n                    if(jet.isType(shval,\"object\")){ \r\n                        for (var s in shval) tarr.push(s + ':' + shval[s]);\r\n                        shortArr.push(jet.extend({},{name:short.name,val:\"{\" + tarr.join('#') + \"}\"}));\r\n                    } \r\n                });\r\n                that.$data.shortcut = shortArr;\r\n            }\r\n            that.dlen = (function () {\r\n                var mats = jet.reMatch(that.format),marr = [];\r\n                jet.each(ymdzArr,function(i,val){\r\n                    jet.each(mats,function(m,mval){\r\n                        if(val == mval) marr.push(mval);\r\n                    });\r\n                });\r\n                var matlen = marr.length, lens = (marr[0] == \"hh\")&&matlen<=3 ? 7 : matlen;\r\n                return lens;\r\n            })();\r\n            that.$data.dlen = that.dlen;\r\n            that.timeInspect = false;\r\n            if(that.dlen == 1){\r\n                jet.extend(that.$data,{year:true,day:false});\r\n            }else if(that.dlen == 2){\r\n                jet.extend(that.$data,{month:true,day:false});\r\n            }else if(that.dlen>3 && that.dlen <=6){\r\n                that.$data.timebtn = true;\r\n            }else if(that.dlen == 7){\r\n                jet.extend(that.$data,{day:false,time:true});\r\n            }\r\n            if(!isShow){\r\n                that.$data.clear = false;\r\n                that.$data.yes = false;\r\n            }\r\n        },\r\n        renderDate : function () {\r\n            var that= this, opts = that.$opts,isShow = jet.isBool(opts.isShow),\r\n                elxID = !isShow ? elx+searandom() : elx, setzin = {\"zIndex\":  (opts.zIndex == undefined ? 10000 : opts.zIndex)};  \r\n            if(that.dateCell == undefined){   \r\n                that.dateCell = document.createElement(\"div\");  \r\n                that.dateCell.id = elxID.replace(/\\#/g,\"\");\r\n                that.dateCell.className = elx.replace(/\\#/g,\"\")+\" \"+(opts.shortcut.length>0?\" leftmenu\":\"\");\r\n                that.dateCell.setAttribute(\"author\",\"chen guojun\"); \r\n            }\r\n            jet.html(that.dateCell,jet.template(that.dateTemplate(),that.$data));\r\n            //自定义主题色\r\n            if(jet.isObj(opts.theme)){   \r\n                var styleDiv = document.createElement(\"style\"),stCell = \".jedate\"+searandom(), t = opts.theme, \r\n                    BG = \"background-color:\"+t.bgcolor, WC = \"color:\"+(t.color == undefined ? \"#FFFFFF\":t.color),\r\n                    OTH = (t.pnColor == undefined ? \"\":\"color:\"+t.pnColor+\";\");\r\n                that.dateCell.className = that.dateCell.className+\" \"+stCell.replace(/^./g,\"\"); styleDiv.setAttribute(\"type\",\"text/css\");\r\n                styleDiv.innerHTML = stCell+\" .jedate-menu p:hover{\"+BG+\";\"+WC+\";}\"+stCell+\" .jedate-header em{\"+WC+\";}\"+\r\n                stCell+\" .jedate-content .yeartable td.action span,\"+stCell+\" .jedate-content .monthtable td.action span,\"+\r\n                stCell+\" .jedate-content .yeartable td.action span:hover,\"+stCell+\" .jedate-content .monthtable td.action span:hover{\"+BG+\";border:1px \"+t.bgcolor+\" solid;\"+WC+\";}\"+stCell+\" .jedate-content .daystable td.action,\"+stCell+\" .jedate-content .daystable td.action:hover,\"+\r\n                stCell+\" .jedate-content .daystable td.action .lunar,\"+stCell+\" .jedate-header,\"+stCell+\" .jedate-time .timeheader,\"+\r\n                stCell+\" .jedate-time .hmslist ul li.action,\"+stCell+\" .jedate-time .hmslist ul li.action:hover,\"+\r\n                stCell+\" .jedate-time .hmslist ul li.disabled.action,\"+stCell+\" .jedate-footbtn .timecon,\"+stCell+\" .jedate-footbtn .btnscon span{\"+BG+\";\"+WC+\";}\"+\r\n                stCell+\" .jedate-content .daystable td.other,\"+stCell+\" .jedate-content .daystable td.other .nolunar,\"+stCell+\" .jedate-content .daystable td.other .lunar{\"+OTH+\"}\"+stCell+\" .jedate-content .daystable td.contain,\"+stCell+\" .jedate-content .daystable td.contain:hover{background-\"+OTH+\"}\";\r\n                that.dateCell.appendChild(styleDiv);\r\n            }\r\n            \r\n            that.compileBindNode(that.dateCell); \r\n            if (document.querySelectorAll(elxID).length > 0) document.body.removeChild($Q(elxID));\r\n            !isShow ? that.valCell.appendChild(that.dateCell) : document.body.appendChild(that.dateCell);\r\n            jet.setCss(that.dateCell,jet.extend({position:(!isShow ? \"relative\" : (opts.fixed == true ? \"absolute\" :\"fixed\"))},isShow ? setzin:{}));\r\n            that.methodEventBind();\r\n            if(that.dlen == 7 || (that.dlen>3 && that.dlen <=6)) that.locateScroll();\r\n            if(opts.festival && opts.language.name == \"cn\") that.showFestival();\r\n            if(isShow){ \r\n                that.dateOrien(that.dateCell,that.valCell);  \r\n                that.blankArea(); \r\n            }\r\n            \r\n        },\r\n        //设置日期值\r\n        setValue : function (fnStr,matStr,bool) {\r\n            var that = this, valCell = that.valCell,strVal;\r\n            matStr = matStr || that.format;\r\n            if((typeof fnStr=='string')&&fnStr!=''){\r\n                var sprange = fnStr.split(that.$opts.range), inArr=[];\r\n                jet.each(sprange,function (i,sval) {\r\n                    var reVal = jet.reMatch(sval), inObj={};\r\n                    jet.each(jet.reMatch(matStr),function (r,val) {\r\n                        inObj[val] = reVal[r];\r\n                    });\r\n                    inArr.push(inObj);\r\n                });\r\n                strVal = inArr;\r\n            }else {\r\n                strVal = fnStr;\r\n            }\r\n            var vals = that.parseValue(strVal,matStr);\r\n            if (bool != false) jet.valText(valCell,vals);  \r\n            return vals;\r\n        },\r\n        //获取日期值\r\n        getValue : function (valobj) {\r\n            var that = this, valCell = that.valCell,\r\n                opts = that.$opts, reObj, result = new DateTime().reDate(),\r\n                dateY = result.GetYear(),dateM = result.GetMonth(),dateD = result.GetDate(),\r\n                timeh = result.GetHours(),timem = result.GetMinutes(),times = result.GetSeconds();\r\n            if (valobj == undefined && jet.isBool(opts.isShow)){         \r\n                reObj = jet.valText(valCell); \r\n            }else {\r\n                var isValShow = jet.isBool(opts.isShow) ? (jet.valText(valCell) == \"\") : !jet.isBool(opts.isShow),\r\n                    objarr = jet.extend({YYYY:null,MM:null,DD:null},valobj||{}),\r\n                    ranMat = [],newArr = new Array(2),unObj = function (obj) {\r\n                        return [(objarr[obj] == undefined || objarr[obj] == null),objarr[obj]];\r\n                    }, defObj = [{ YYYY:dateY,MM:dateM,DD:dateD, hh:timeh,mm:timem,ss:times,zz:00},\r\n                        { YYYY:dateY,MM:dateM,DD:dateD, hh:timeh,mm:timem,ss:times,zz:00}];\r\n                if (isValShow) {\r\n                    //目标为空值则获取当前日期时间\r\n                    jet.each(newArr,function (i) {\r\n                        var inObj = {};\r\n                        jet.each(ymdzArr, function (r, val) {\r\n                            inObj[val] = parseInt(unObj(val)[0] ? defObj[i][val] : unObj(val)[1]);\r\n                        });\r\n                        ranMat.push(jet.extend(defObj[i], inObj));\r\n                    });\r\n                } else {\r\n                    var isunRange = opts.range != false, initVal = that.getValue(),\r\n                        spVal = initVal.split(opts.range), reMat = jet.reMatch(that.format);\r\n                    jet.each(newArr,function (i) {\r\n                        var inObj = {}, reVal = isunRange ? jet.reMatch(spVal[i]) : jet.reMatch(initVal);\r\n                        jet.each(reMat,function (r,val) {\r\n                            inObj[val] = reVal[r];\r\n                        });\r\n                        var exVal = jet.extend(inObj,valobj||{});\r\n                        ranMat.push(jet.extend(defObj[i],exVal));\r\n                    });\r\n                }\r\n                reObj = ranMat;\r\n            }\r\n            return reObj;\r\n        },\r\n        storeData:function (curr,next) {\r\n            next = next || {};\r\n            var that = this, opts = that.$opts,multi = opts.multiPane,valCell = that.valCell,\r\n                days = new Date().getDate(), DTS = that.$data,isnext = jet.isObj(next),\r\n                RES = {yearlist:[],monthlist:[[],[]],daylist:[],daytit:[],timelist:[]},seltime,         \r\n                cday = curr.DD == null ? days : curr.DD, nday = next.DD == null ? days : next.DD,\r\n                timeA = {hh:curr.hh,mm:curr.mm,ss:curr.ss}, timeB = {hh:next.hh||0,mm:next.mm||0,ss:next.ss||0};  \r\n            //设置年的数据\r\n            RES.yearlist.push(that.eachYear(parseInt(curr.YYYY),1));\r\n            if(multi == false){\r\n                var yearNext = isnext ? next.YYYY : curr.YYYY;\r\n                RES.yearlist.push(that.eachYear(parseInt(yearNext),2));\r\n            } \r\n            //设置月的数据\r\n            RES.monthlist[0] = that.eachMonth(curr.YYYY,0);\r\n            if(multi == false){\r\n                var monthNext = isnext ? next.YYYY : curr.YYYY+1;\r\n                RES.monthlist[1] = that.eachMonth(curr.YYYY+1,1);\r\n            } \r\n            //设置天的数据\r\n            RES.daylist.push(that.eachDays(curr.YYYY,curr.MM,cday,0));\r\n            RES.daytit.push({YYYY:curr.YYYY,MM:curr.MM});\r\n            if(multi == false){\r\n                var dayNext = jet.nextMonth(curr.YYYY,curr.MM);\r\n                RES.daylist.push(that.eachDays(dayNext.y,dayNext.m,nday,1));\r\n                RES.daytit.push({YYYY:dayNext.y,MM:dayNext.m});\r\n            } \r\n            //设置时间数据\r\n            that.selectTime = [timeA,timeB];  \r\n            RES.timelist.push(that.eachTime(timeA,1));\r\n            if(multi == false){\r\n                seltime = that.dlen == 7 && opts.range && !isnext ? timeA : timeB;\r\n                if(that.dlen == 7 && opts.range && jet.valText(valCell) == \"\"){\r\n                    that.selectTime[1] = jet.extend(timeB,timeA);\r\n                } \r\n                RES.timelist.push(that.eachTime(seltime,2)); \r\n            } \r\n            //最后将数据合并于总数据中\r\n            jet.extend(that.$data,RES);\r\n        },\r\n        dateTemplate : function() {\r\n            var that = this, opts = that.$opts, multi = opts.multiPane,YMDStr = \"\",hmsStr = \"\",lang = opts.language,\r\n                ytxt = lang.name == \"cn\" ? \"年\":\"\", mtxt = lang.name == \"cn\" ? \"月\":\"\";\r\n            var ymvals = multi ? '{%=ymlist[0].YYYY%}-{%=ymlist[0].MM%}':'{%=ymlist[0].YYYY%}-{%=ymlist[0].MM%}#{%=ymlist[ynidx].YYYY%}-{%=ymlist[ynidx].MM%}';\r\n            var aowArr = (function () {\r\n                var butArr = [], ismu = multi ? \"11\":\"23\";\r\n                if(that.dlen == 1){\r\n                    butArr = ['{%=yearlist[i][0].y-'+ismu+'%}','{%=yearlist[i][yearlist[i].length-1].y%}'];\r\n                }else if(that.dlen == 2){\r\n                    butArr = multi ? ['{%=yearlist[0][0].y-1%}','{%=yearlist[0][0].y+1%}']:['{%=yearlist[i][0].y-'+ismu+'%}','{%=yearlist[i][yearlist[i].length-1].y%}'];\r\n                }else if(that.dlen>2 && that.dlen <=6){\r\n                    butArr = ['{%=yearlist[0][0].y-1%}','{%=yearlist[0][0].y+1%}'];\r\n                }\r\n                return butArr;\r\n            })();\r\n            var lyPrev = '<em class=\"yearprev yprev jedatefont\" @on=\"yearBtn(lprev,'+aowArr[0]+')\">&#xed6c2;</em>',\r\n                lyNext = '<em class=\"yearnext ynext jedatefont\" on=\"yearBtn(lnext,'+aowArr[2]+')\">&#xed6c5;</em>',\r\n                ryPrev = '<em class=\"yearprev yprev jedatefont\" on=\"yearBtn(rprev,'+aowArr[3]+')\">&#xed6c2;</em>',\r\n                ryNext = '<em class=\"yearnext ynext jedatefont\" @on=\"yearBtn(rnext,'+aowArr[1]+')\">&#xed6c5;</em>',\r\n                mPrev = '{% if(dlen>2){ %}<em class=\"monthprev mprev jedatefont\" @on=\"monthBtn(mprev,{%=daytit[i].YYYY%}-{%=daytit[i].MM%})\">&#xed602;</em>{% } %}',\r\n                mNext = '{% if(dlen>2){ %}<em class=\"monthnext mnext jedatefont\" @on=\"monthBtn(mnext,{%=daytit[i].YYYY%}-{%=daytit[i].MM%})\">&#xed605;</em>{% } %}';\r\n            //循环年的模板\r\n            var yaerHtml = '<table class=\"yeartable year{%= i==0 ? \"left\":\"right\"%}\" style=\"display:{%=year ? \"block\":\"none\"%};\"><tbody><tr>'+\r\n            '{% for(var y=0;y<=11;y++){ %}<td class=\"{%=yearlist[i][y].style%}\" @on=\"yearClick({%=yearlist[i][y].y%})\"><span>{%=yearlist[i][y].y%}'+ytxt+'</span></td>{% if((y+1)%3==0){ %} </tr>{% } %} {% } %} </tbody></table>';\r\n            //循环月的模板\r\n            var monthHtml = '<table class=\"monthtable month{%= i==0 ? \"left\":\"right\"%}\" style=\"display:{%=month ? \"block\":\"none\"%};\"><tbody><tr>'+\r\n            '{% for(var m=0;m<=11;m++){ %}<td class=\"{%=monthlist[i][m].style%}\" ym=\"{%=monthlist[i][m].y%}-{%=monthlist[i][m].m%}\" @on=\"monthClick({%=monthlist[i][m].y%}-{%=monthlist[i][m].m%})\"><span>{%=monthlist[i][m].m%}'+mtxt+'</span></td>{% if((m+1)%3==0){ %} </tr>{% } %} {% } %} </tbody></table>';\r\n            //循环天的模板\r\n            var daysHtml = '<table class=\"daystable days{%= i==0 ? \"left\":\"right\"%}\" style=\"display:{%=day ? \"block\":\"none\"%};\"><thead><tr>'+\r\n            '{% for(var w=0;w<lang.weeks.length;w++){ %} <th>{%=lang.weeks[w]%}</th> {% } %}</tr></thead><tbody>'+\r\n            '<tr>{% for(var d=0;d<=41;d++){ %}<td class=\"{%=daylist[i][d].style%}\" ymd=\"{%=daylist[i][d].ymd%}\" @on=\"daysClick({%=daylist[i][d].ymd%})\">{%=daylist[i][d].day%}</td>{% if((d+1)%7==0){ %} </tr>{% } %} {% } %} </tbody></table>';\r\n            //循环时间模板\r\n            var hmsHtml = '<div class=\"jedate-time\">{% for(var h=0;h<timelist.length;h++){ %}<div class=\"timepane\"><div class=\"timeheader\">{%= timelist.length == 1 ? lang.timetxt[0]:lang.timetxt[h+1]%}</div><div class=\"timecontent\">'+\r\n            '<div class=\"hmstitle\"><p>{%=lang.times[0]%}</p><p>{%=lang.times[1]%}</p><p>{%=lang.times[2]%}</p></div>'+\r\n            '<div class=\"hmslist\">{% for(var t=0;t<3;t++){ %}<div class=\"hmsauto\"><ul>{% for(var s=0;s<timelist[h][t].length;s++){ %}<li class=\"{%=timelist[h][t][s].style%}\" @on=\"hmsClick({%= h %},{%= h>0?3+t:t %})\">{%= timelist[h][t][s].hms < 10 ? \"0\" + timelist[h][t][s].hms :timelist[h][t][s].hms %}</li>{% } %}</ul></div>{% } %}</div></div>'+'</div>{% } %}</div>'; \r\n            //左边选择模板\r\n            var shortHtml = opts.shortcut.length > 0 ? \"{% for(var s=0;s<shortcut.length;s++){ %}<p @on=shortClick({%= shortcut[s].val %})>{%=shortcut[s].name%}</p>{% } %}\":'';\r\n            \r\n            var ymtitHtml = (function () {\r\n                var ymtitStr = \"\";\r\n                if(that.dlen == 1){\r\n                    ymtitStr = '<span class=\"ymbtn\">{%=yearlist[i][0].y%}'+ytxt+' ~ {%=yearlist[i][yearlist[i].length-1].y%}'+ytxt+'</span>';\r\n                }else if(that.dlen == 2){\r\n                    ymtitStr = '<span class=\"ymbtn\" @on=\"yearShow({%=yearlist[0][i].y%})\">{%=yearlist[0][i].y%}'+ytxt+'</span>';\r\n                }else if(that.dlen>2 && that.dlen <=6){\r\n                    ymtitStr = '<span class=\"ymbtn\" @on=\"monthShow({%=daytit[i].MM%})\">{%=daytit[i].MM%}'+mtxt+'</span>'+\r\n                    '<span class=\"ymbtn\" @on=\"yearShow({%=daytit[i].YYYY%})\">{%=daytit[i].YYYY%}'+ytxt+'</span>';\r\n                }\r\n                return ymtitStr;\r\n            })();\r\n\r\n            var ymButton = (function () {\r\n                var titStrBut = \"\";\r\n                if(that.dlen==1){\r\n                    titStrBut = multi ? [lyPrev+ryNext]:[lyPrev,ryNext];\r\n                }else if(that.dlen==2){  \r\n                    titStrBut = multi ? [lyPrev+ryNext] : [lyPrev,ryNext];  \r\n                }else if(that.dlen>2 && that.dlen <=6){\r\n                    titStrBut = multi ? [lyPrev+mPrev+mNext+ryNext] : [lyPrev+mPrev,mNext+ryNext];\r\n                }else if(that.dlen==7){\r\n                    titStrBut = \"\";\r\n                }\r\n                return titStrBut;\r\n            })();\r\n            \r\n            if(that.dlen == 1){\r\n                YMDStr = yaerHtml;\r\n            }else if(that.dlen == 2){\r\n                YMDStr = yaerHtml + monthHtml;\r\n            }else if(that.dlen == 3){\r\n                YMDStr = yaerHtml + monthHtml + daysHtml;\r\n            }else if(that.dlen > 3 && that.dlen <= 6){\r\n                YMDStr = yaerHtml + monthHtml + daysHtml;\r\n                hmsStr = hmsHtml;\r\n            }else if(that.dlen == 7){\r\n                hmsStr = hmsHtml;\r\n            }\r\n            var paneHtml = '{% for(var i=0;i<pane;i++){ %}<div class=\"jedate-pane\">'+\r\n                '<div class=\"jedate-header\">{% if(i==0){ %}'+ymButton[0]+'{% }else{ %}'+ymButton[1]+'{% } %}'+ymtitHtml+'</div>'+\r\n                '<div class=\"jedate-content{%= i==1?\" bordge\":\"\" %}\">'+YMDStr+'</div>'+\r\n                '</div>{% } %}';   \r\n            var btnStr = '{% if(timebtn){%}<div class=\"timecon\" style=\"cursor: pointer;\" @on=\"timeBtn\">{%=lang.timetxt[0]%}</div>{% } %}<div class=\"btnscon\">{% if(clear){ %}<span class=\"clear\" @on=\"clearBtn\">{%=lang.clear%}</span>{% } %}{% if(today){ %}<span class=\"today\" @on=\"nowBtn\">{%=lang.today%}</span>{% } %}{% if(yes){ %}<span class=\"setok\" @on=\"sureBtn\">{%=lang.yes%}</span>{% } %}</div>';\r\n\r\n            return '<div class=\"jedate-menu\" style=\"display:{%=shortcut.length>0 ? \"block\":\"none\"%};\">'+shortHtml+'</div><div class=\"jedate-wrap\">'+paneHtml+'</div>'+hmsStr+'<div class=\"jedate-footbtn\">'+btnStr+'</div><div class=\"jedate-tips\"></div>';        \r\n        },\r\n        //递归绑定事件\r\n        compileBindNode : function (dom) {\r\n            var self = this, aton = \"@on\";\r\n            var acquireAttr = function (atVal){\r\n                var args=/\\(.*\\)/.exec(atVal);\r\n                if(args) { //如果函数带参数,将参数字符串转换为参数数组\r\n                    args = args[0];\r\n                    atVal = atVal.replace(args,\"\");\r\n                    args = args.replace(/[\\(\\)\\'\\\"]/g,'').split(\",\");\r\n                }else args = [];\r\n                return [atVal,args];\r\n            }; \r\n            jet.each(dom.childNodes,function (i,node) {\r\n                if (node.nodeType === 1) {\r\n                    if(!self.$opts.festival) node.removeAttribute(\"ymd\");\r\n                    self.compileBindNode(node);\r\n                    var geton = node.getAttribute(aton);\r\n                    if(geton != null){\r\n                        var onarr = acquireAttr(geton); \r\n                        jet.on(node,\"click\",function () {\r\n                            self[onarr[0]] && self[onarr[0]].apply(node,onarr[1]);\r\n                        });\r\n                        node.removeAttribute(aton);\r\n                    }    \r\n                }\r\n            });  \r\n        },\r\n        methodEventBind : function() {\r\n            var that = this, opts = that.$opts, multi = opts.multiPane, DTS = that.$data,\r\n                result = new DateTime().reDate(),dateY = result.GetYear(),dateM = result.GetMonth(),dateD = result.GetDate(),\r\n                range = opts.range,elCell = that.dateCell;\r\n            jet.extend(that,{\r\n                yearBtn:function (type,val) {\r\n                    var yarr = val.split(\"#\"), pval = jet.reMatch(yarr[0]), tmval = that.selectTime;\r\n                    exarr = [jet.extend({YYYY:parseInt(val),MM:dateM,DD:dateD},tmval[0]),{}];\r\n                    var dateVal = that.parseValue([exarr[0]],that.format);\r\n                    that.storeData(exarr[0],exarr[1]);\r\n                    that.renderDate();\r\n                    opts.toggle && opts.toggle({elem:that.valCell,val:dateVal,date:exarr[0]});\r\n                },\r\n                yearShow:function (val) {\r\n                    DTS.year = DTS.year ? false : true;\r\n                    DTS.month = that.dlen < 3 ? true : false;   \r\n                    if(that.dlen > 2 && that.dlen <= 6){\r\n                        var dayCell = $Q(\".daystable\",elCell);\r\n                        DTS.day = dayCell.style.display == \"none\" ? true : false;\r\n                    } \r\n                    that.renderDate();\r\n                },\r\n                monthBtn:function (type,val) { \r\n                    var ymarr = jet.reMatch(val),tmval = that.selectTime, exarr=[], PrevYM , NextYM,   \r\n                        year = parseInt(ymarr[0]),month = parseInt(ymarr[1]); \r\n                    if(range){\r\n                        if(type == \"mprev\"){\r\n                            PrevYM = jet.prevMonth(year, month);\r\n                            NextYM = jet.nextMonth(PrevYM.y, PrevYM.m);\r\n                        }else{\r\n                            NextYM = jet.nextMonth(year, month);\r\n                            PrevYM = jet.prevMonth(NextYM.y, NextYM.m);\r\n                        }\r\n                        exarr = [jet.extend({YYYY:PrevYM.y,MM:PrevYM.m,DD:dateD},tmval[0]),{YYYY:NextYM.y,MM:NextYM.m,DD:dateD}];\r\n                    }else{\r\n                        var PNYM = (type == \"mprev\") ? jet.prevMonth(year, month) : jet.nextMonth(year, month);\r\n                        exarr = [jet.extend({YYYY:PNYM.y,MM:PNYM.m,DD:dateD},tmval[0]),{}];\r\n                    }\r\n                    var dateVal = that.parseValue([exarr[0]],that.format);\r\n                    that.storeData(exarr[0],exarr[1]);\r\n                    that.renderDate();\r\n                    opts.toggle && opts.toggle({elem:that.valCell,val:dateVal,date:exarr[0]});\r\n                },\r\n                monthShow:function (val) {\r\n                    DTS.year = false;\r\n                    DTS.month = DTS.month ? false : true; \r\n                    if(that.dlen > 2 && that.dlen <= 6){\r\n                        var dayCell = $Q(\".daystable\",elCell);\r\n                        DTS.day = dayCell.style.display == \"none\" ? true : false;\r\n                    }   \r\n                    that.renderDate();\r\n                },\r\n                shortClick:function (val) {  \r\n                    var reval = val.replace(/\\#/g,','),evobj = eval(\"(\"+reval+\")\"), \r\n                        gval = jet.getDateTime(evobj),tmval = that.selectTime;\r\n                    that.selectValue = [jet.parse(gval,\"YYYY-MM-DD\")];\r\n                    that.selectDate = [{YYYY:gval.YYYY,MM:gval.MM,DD:gval.DD}];\r\n                    if(opts.onClose){\r\n                        var nYM = jet.nextMonth(gval.YYYY,gval.MM),\r\n                            ymarr = [{YYYY:gval.YYYY,MM:gval.MM,DD:gval.DD},{YYYY:nYM.y,MM:nYM.m,DD:null}];\r\n                        that.storeData(jet.extend(ymarr[0],tmval[0]),jet.extend(ymarr[1],tmval[1]));\r\n                        that.renderDate();\r\n                    }else{\r\n                        that.setValue(gval,that.format);\r\n                        that.closeDate(); \r\n                    }\r\n                },\r\n                yearClick:function (val) {\r\n                    if(jet.hasClass(this,\"disabled\")) return;\r\n                    var yearVal = \"\",lens = that.dlen;\r\n                    if(range && lens == 1){\r\n                        var ylen = that.selectValue.length;\r\n                        that.selectDate = (ylen == 2) ? [{YYYY:parseInt(val),MM:dateM}] : \r\n                            [{YYYY:that.selectDate[0].YYYY,MM:that.selectDate[0].MM},{YYYY:parseInt(val),MM:dateM}];\r\n                        that.selectValue = (ylen == 2) ? [val+\"-\"+jet.digit(dateM)] : [that.selectValue[0],val+\"-\"+jet.digit(dateM)];\r\n                        \r\n                        if(that.selectValue.length == 2){\r\n                            var svalarr = [that.selectValue[0],that.selectValue[1]],newArr = [{},{}];\r\n                            svalarr.sort(function(a, b){ return a > b ? 1 : -1; });\r\n                            that.selectValue = svalarr;\r\n                            jet.each(svalarr,function(i,strval) {\r\n                                jet.each(jet.reMatch(strval),function(s,dval) {\r\n                                    newArr[i][ymdzArr[s]] = dval;\r\n                                });\r\n                            });\r\n                            that.selectDate = newArr;\r\n                        } \r\n                    }else if(lens>1 && lens <=6){   \r\n                        yearVal = parseInt(val);\r\n                    }else{\r\n                        that.selectValue = [val+\"-\"+jet.digit(dateM)];\r\n                        that.selectDate = [{YYYY:parseInt(val),MM:dateM}];\r\n                    }\r\n                    DTS.year = (lens == 1) ? true : false;\r\n                    DTS.month = (lens < 3) ? true : false;\r\n                    DTS.day = (lens > 2 && lens <= 6) ? true : false;\r\n                    var electVal = (lens>1 && lens <=6) ? yearVal : parseInt(that.selectDate[0].YYYY);\r\n                    that.storeData(jet.extend({YYYY:electVal,MM:dateM,DD:dateD},that.selectTime[0]),{});\r\n                    that.renderDate();    \r\n                },\r\n                monthClick:function (val) {\r\n                    if(jet.hasClass(this,\"disabled\")) return;\r\n                    var ymval = jet.reMatch(val),newArr = [{},{}],mlen = that.selectValue.length ;\r\n                    if(range){\r\n                        that.selectDate = (mlen == 2) ? [{YYYY:ymval[0],MM:ymval[1]}] : \r\n                            [{YYYY:that.selectDate[0].YYYY,MM:that.selectDate[0].MM},{YYYY:parseInt(val),MM:ymval[1]}];\r\n                        that.selectValue = (mlen == 2) ? [val] : [that.selectValue[0],val];    \r\n\r\n                        if(that.selectValue.length == 2){\r\n                            var svalarr = [that.selectValue[0],that.selectValue[1]];\r\n                            svalarr.sort(function(a, b){ return a > b ? 1 : -1; });\r\n                            that.selectValue = svalarr;\r\n                            jet.each(svalarr,function(i,strval) {\r\n                                jet.each(jet.reMatch(strval),function(s,dval) {\r\n                                    newArr[i][ymdzArr[s]] = dval;\r\n                                });\r\n                            });\r\n                            that.selectDate = newArr;\r\n                        }\r\n                    }else{\r\n                        that.selectValue = [val];\r\n                        that.selectDate = [{YYYY:ymval[0],MM:ymval[1]}];\r\n                    }\r\n                    if(that.dlen > 2){\r\n                        DTS.year = false;\r\n                        DTS.month = false;\r\n                    }\r\n                    DTS.day = (that.dlen > 2 && that.dlen <= 6) ? true : false;\r\n                    that.storeData(jet.extend({\r\n                        YYYY:parseInt(that.selectDate[0].YYYY),\r\n                        MM:parseInt(that.selectDate[0].MM),\r\n                        DD:dateD\r\n                    },that.selectTime[0]),{});\r\n                    that.renderDate();   \r\n                },\r\n                daysClick:function (val) {\r\n                    if(jet.hasClass(this,\"disabled\")) return;\r\n                    var tmval = that.selectTime, matVal = jet.reMatch(val),\r\n                        slen = that.selectValue.length,dateVal = \"\",\r\n                        newArr = [{},{}],sday,nYM,ymarr;\r\n                    if(range){\r\n                        \r\n                        if(slen == 1){\r\n                            var svalarr = [that.selectValue[0],val];\r\n                            svalarr.sort(function(a, b){ return a > b ? 1 : -1; });\r\n                            that.selectValue = svalarr;\r\n                            jet.each(svalarr,function(i,strval) {\r\n                                jet.each(jet.reMatch(strval),function(s,dval) {\r\n                                    newArr[i][ymdzArr[s]] = dval;\r\n                                });\r\n                            });\r\n                            that.selectDate = newArr;\r\n                        }else{\r\n                            that.selectValue = [val];  \r\n                            newArr = [{YYYY:matVal[0],MM:matVal[1],DD:matVal[2]}];\r\n                            that.selectDate = [{YYYY:matVal[0],MM:matVal[1],DD:matVal[2]},{}];\r\n                        }\r\n                        nYM = jet.nextMonth(newArr[0].YYYY,newArr[0].MM);\r\n                        ymarr = [{YYYY:newArr[0].YYYY,MM:newArr[0].MM,DD:newArr[0].DD},{YYYY:nYM.y,MM:nYM.m,DD:null}];\r\n                        that.storeData(jet.extend(ymarr[0],tmval[0]),jet.extend(ymarr[1],tmval[1]));\r\n                        that.renderDate();\r\n                    }else{\r\n                        that.selectValue = [val];\r\n                        that.selectDate = [{YYYY:matVal[0],MM:matVal[1],DD:matVal[2]},{YYYY:matVal[0],MM:matVal[1],DD:matVal[2]}];\r\n                        jet.each(new Array(range == false ? 1 : 2),function (a) {\r\n                            jet.each(matVal,function (i,val) {\r\n                                newArr[a][ymdzArr[i]] = val;\r\n                            });\r\n                            jet.extend(newArr[a],tmval[a]);\r\n                        });\r\n                        if(opts.onClose){  \r\n                            that.storeData(jet.extend(newArr[0],tmval[0]),jet.extend(newArr[1],tmval[1]));\r\n                            that.renderDate();\r\n                        }else{\r\n                            dateVal = that.setValue(newArr,that.format);\r\n                            that.closeDate();\r\n                            opts.donefun && opts.donefun.call(that,{elem:that.valCell,val:dateVal,date:newArr}); \r\n                        }\r\n                    }    \r\n                },\r\n                hmsClick:function(idx,num) {\r\n                    var pidx = parseInt(num), vals = parseInt(jet.text(this)), \r\n                        paridx = parseInt(idx), act = \"action\",mhms = [\"hh\",\"mm\",\"ss\"], \r\n                        ulCell = $Q(\".jedate-time\",that.dateCell).querySelectorAll(\"ul\")[pidx], \r\n                        tlen = that.$data.timelist[0].length;\r\n                    if(jet.hasClass(this,\"disabled\")) return;\r\n                    jet.each(ulCell.childNodes,function (i,node) {\r\n                        var reg = new RegExp(\"(^|\\\\s+)\" + act + \"(\\\\s+|$)\", \"g\");\r\n                        node.className = reg.test(node.className) ? node.className.replace(reg, '') : node.className;\r\n                    });\r\n                    that.selectTime[paridx][paridx == 1 ? mhms[pidx-tlen]:mhms[pidx]] = vals;\r\n                    this.className = this.className + act;\r\n                    var hmsCls = ulCell.querySelector(\".\"+act);\r\n                    ulCell.scrollTop = hmsCls ? (hmsCls.offsetTop-145):0; \r\n                    if(that.dlen == 7 && idx == 0 && range && !multi){\r\n                        var nVal = that.getValue({}), nYM = jet.nextMonth(nVal[0].YYYY,nVal[0].MM),st = that.selectTime;\r\n                        that.storeData(\r\n                            {YYYY:nVal[0].YYYY,MM:nVal[0].MM,DD:null,hh:st[0].hh,mm:st[0].mm,ss:st[0].ss},\r\n                            {YYYY:nYM.y,MM:nYM.m,DD:null,hh:st[1].hh,mm:st[1].mm,ss:st[1].ss}\r\n                        );\r\n                        that.renderDate();\r\n                    }\r\n                },\r\n                timeBtn:function() {\r\n                    var timeCell = $Q(\".jedate-time\",elCell), disNo = timeCell.style.display == \"none\";\r\n                    jet.text(this,disNo ? opts.language.backtxt:opts.language.timetxt[0]);\r\n                    jet.setCss(timeCell,{display: disNo ? \"block\":\"none\"});\r\n                },\r\n                //清空按钮函数\r\n                clearBtn:function () {\r\n                    jet.valText(that.valCell,\"\");\r\n                    that.selectDate = [jet.parse(jet.getDateTime({}),\"YYYY-MM-DD hh:mm:ss\")];\r\n                    that.closeDate();\r\n                },\r\n                //现在按钮函数\r\n                nowBtn:function () {\r\n                    var newArr = jet.getDateTime({}), nYM = jet.nextMonth(newArr.YYYY,newArr.MM), dateVal;   \r\n                    that.selectDate = [newArr];\r\n                    dateVal = opts.isShow ? that.setValue([newArr],that.format,true) : jet.parse(newArr,that.format);\r\n                    if(opts.onClose && range || !opts.isShow){\r\n                        that.storeData(newArr,{YYYY:nYM.y,MM:nYM.m,DD:null,hh:0,mm:0,ss:0});\r\n                        that.renderDate();\r\n                    }else{\r\n                        that.closeDate();\r\n                    } \r\n                    opts.donefun && opts.donefun.call(that,{elem:that.valCell,val:dateVal,date:newArr}); \r\n                },\r\n                //确认按钮函数\r\n                sureBtn:function () {\r\n                    var newArr = that.selectValue.length > 1 ? [{},{}]: [{}], dateVal = \"\", tmval = that.selectTime;\r\n                    var equal = function (o) {\r\n                        var h = o.hh == undefined ? 0:o.hh, m = o.mm == undefined ? 0:o.mm, s = o.ss == undefined ? 0:o.ss;\r\n                        return parseInt(jet.digit(h)+\"\"+jet.digit(m)+\"\"+jet.digit(s));\r\n                    };\r\n                    if(range){\r\n                        if(that.selectValue.length > 1){\r\n                            var sortarr = that.selectValue;\r\n                            sortarr.sort(function(a, b){ return a > b ? 1 : -1; });\r\n                            jet.each(sortarr,function (i,arr) {\r\n                                jet.each(jet.reMatch(arr),function (a,val) {\r\n                                    newArr[i][ymdzArr[a]] = val; \r\n                                });\r\n                                jet.extend(newArr[i],tmval[i]);\r\n                            }); \r\n                        }else if(that.dlen == 7 && tmval.length>1){\r\n                            newArr = tmval;\r\n                        } \r\n                        var sameTime = equal(tmval[0]) >= equal(tmval[1]),selVal = that.selectValue, sameDate = \"\";\r\n                        if(selVal[1] != undefined) sameDate = selVal[0].replace(/\\-/g,\"\") == selVal[1].replace(/\\-/g,\"\");\r\n                        if(selVal.length == 1 && that.dlen < 7){\r\n                            that.tips(opts.language.name == \"cn\" ? \"未选结束日期\" : \"Please select the end date\"); return;\r\n                        }else if((that.dlen == 7 && sameTime) || (sameDate && sameTime)){\r\n                            that.tips(opts.language.name == \"cn\" ? \"结束时间必须大于开始时间\" : \"The end time must be greater than the start time\"); return;\r\n                        } \r\n                    }else{\r\n                        jet.each(new Array(range == false ? 1 : 2),function (i) {\r\n                            if(that.dlen != 7) jet.each(jet.reMatch(that.selectValue[0]),function (a,val) {\r\n                                newArr[i][ymdzArr[a]] = val;\r\n                            });\r\n                            jet.extend(newArr[i],tmval[i]);\r\n                        });\r\n                    } \r\n                    dateVal = that.setValue(newArr,that.format,opts.isShow ? true:false);\r\n                    opts.isShow && that.closeDate();\r\n                    opts.donefun && opts.donefun.call(that,{elem:that.valCell,val:dateVal,date:newArr}); \r\n                },\r\n                blankArea:function () {\r\n                    jet.on(document,\"mouseup\",function (ev) {\r\n                        jet.stopPropagation(ev);  \r\n                        that.closeDate();                      \r\n                    });\r\n                    jet.on($Q(elx),\"mouseup\", function(ev) {\r\n                        jet.stopPropagation(ev); \r\n                    });\r\n                }   \r\n            });\r\n        },\r\n        //循环生成年数据\r\n        eachYear  : function (val,type) {\r\n            var that = this,opts = that.$opts, yNum = parseInt(val),yarr = [],seCls='', selYear = that.selectDate,i,\r\n                mins = jet.reMatch(that.minDate), maxs = jet.reMatch(that.maxDate);   \r\n            i = type == 1 ? yNum : that.yindex;  \r\n            that.yindex = type == 1 ? 12+yNum : 12+that.yindex;\r\n            var endDate = selYear[1] == undefined ? \"\":selYear[1].YYYY;\r\n            for(; i < that.yindex; i++){\r\n                if(i == selYear[0].YYYY || i == endDate){\r\n                    seCls = \"action\";\r\n                }else if(i>selYear[0].YYYY && i<endDate){\r\n                    seCls = \"contain\";\r\n                }else if(i < mins[0] || i > maxs[0]){\r\n                    seCls = \"disabled\";\r\n                }else{\r\n                    seCls =  \"\";\r\n                }\r\n                yarr.push({style:seCls,y:i});    \r\n            }\r\n            return yarr;\r\n        },\r\n        //循环生成月数据\r\n        eachMonth : function (val,type) {\r\n            var that = this,opts = that.$opts, range = opts.range, marr = [],\r\n                selMonth = that.selectDate, seCls='',monthArr = opts.language.month ,\r\n                mins = jet.reMatch(that.minDate), maxs = jet.reMatch(that.maxDate),\r\n                minym = parseInt(mins[0]+\"\"+jet.digit(mins[1])), \r\n                maxym =  parseInt(maxs[0]+\"\"+jet.digit(maxs[1])),\r\n                currStart = parseInt(selMonth[0].YYYY+\"\"+jet.digit(selMonth[0].MM)),\r\n                currEnd = selMonth[1] ? parseInt(selMonth[1].YYYY+\"\"+jet.digit(selMonth[1].MM)) : 0;\r\n            jet.each(monthArr,function (i,months) {\r\n                var ival = parseInt(val+\"\"+jet.digit(months));\r\n                if(ival == currStart || ival == currEnd){\r\n                    seCls = \"action\";\r\n                }else if(ival > currStart && ival < currEnd){ \r\n                    seCls = \"contain\";  \r\n                }else if(ival < minym || ival > maxym){\r\n                    seCls = \"disabled\";\r\n                }else{\r\n                    seCls = \"\";\r\n                }\r\n                marr.push({style:seCls ,y:val ,m:months}); \r\n            }); \r\n            return marr;\r\n        },\r\n        //循环生成天数据\r\n        eachDays  : function (yd,md,ds,idx) {\r\n            var that = this, count = 0, daysArr = [],opts = that.$opts, multiPane = jet.isBool(opts.multiPane),\r\n                firstWeek = new Date(yd, md - 1, 1).getDay() || 7,valrange = opts.range != false,\r\n                daysNum = jet.getDaysNum(yd, md), didx = 0, sDate = that.selectDate,\r\n                prevM = jet.prevMonth(yd, md),isShow = jet.isBool(opts.isShow),\r\n                prevDaysNum = jet.getDaysNum(yd, prevM.m),nextM = jet.nextMonth(yd, md), objCell = that.valCell,\r\n                lang = opts.language, endval = opts.valiDate||[],\r\n                minArr = jet.reMatch(that.minDate), minNum = parseInt(minArr[0]+\"\"+jet.digit(minArr[1])+\"\"+jet.digit(minArr[2])),\r\n                maxArr = jet.reMatch(that.maxDate), maxNum = parseInt(maxArr[0]+\"\"+jet.digit(maxArr[1])+\"\"+jet.digit(maxArr[2]));\r\n            var startDate = sDate[0] ? parseInt(sDate[0].YYYY+\"\"+jet.digit(sDate[0].MM)+\"\"+jet.digit(sDate[0].DD)) : \"\";\r\n            var endDate = sDate[1] ? parseInt(sDate[1].YYYY+\"\"+jet.digit(sDate[1].MM)+\"\"+jet.digit(sDate[1].DD)) : \"\";\r\n            //设置时间标注   \r\n            var setMark = function (my, mm, md) {\r\n                var Marks = opts.marks, contains = function(arr, obj) {\r\n                    var clen = arr.length;\r\n                    while (clen--) {  if (arr[clen] === obj) return true; }\r\n                    return false;\r\n                },isArr = jet.isType(Marks,\"array\");  \r\n                return isArr && Marks.length > 0 && contains(Marks, my + \"-\" + jet.digit(mm) + \"-\" + jet.digit(md)) ? '<i class=\"marks\"></i>' :\"\";\r\n            };\r\n            //是否显示节日\r\n            var isfestival = function(y, m ,d) {\r\n                var festivalStr = '';\r\n                if(opts.festival == true && lang.name == \"cn\"){\r\n                    var lunar = jeLunar(y, m - 1, d), feslunar = (lunar.solarFestival || lunar.lunarFestival),\r\n                        lunartext = (feslunar && lunar.jieqi) != \"\" ? feslunar : (lunar.jieqi || lunar.showInLunar);\r\n                    festivalStr = '<p><span class=\"solar\">' + d + '</span><span class=\"lunar\">' + lunartext + '</span></p>';\r\n                }else{\r\n                    festivalStr = '<p class=\"nolunar\">' + d + '</p>';\r\n                }\r\n                return festivalStr;\r\n            };\r\n            //判断是否在限制的日期之中\r\n            var dateLimit = function(Y, M, D, isMonth){\r\n                var thatNum = parseInt(Y + \"\" + jet.digit(M) + \"\" + jet.digit(D));\r\n                if(isMonth){\r\n                    if (thatNum >= minNum && thatNum <= maxNum) return true;\r\n                }else {\r\n                    if (minNum > thatNum || maxNum < thatNum) return true;\r\n                }\r\n            };\r\n            \r\n            var regExpDate = function (date,cls) {\r\n                var inArray = function (search,array){\r\n                    for(var i in array) if(array[i]==search) return true;\r\n                    return false;\r\n                };\r\n                if(endval.length > 0 && endval[0]!=\"\"){\r\n                    if(/\\%/g.test(endval[0])){\r\n                        var reval = endval[0].replace(/\\%/g,\"\").split(\",\"), enArr = [];\r\n                        jet.each(reval,function (r,rel) {\r\n                            enArr.push(jet.digit(parseInt(rel)));\r\n                        });\r\n                        var isfind = inArray(jet.digit(date), enArr) == false;\r\n                        cls = jet.isBool(endval[1]) ? (isfind ? \" disabled\" :cls) : (isfind ? cls :\" disabled\");\r\n                    }else {\r\n                        var valreg = that.dateRegExp(endval[0]), regday = valreg.test(jet.digit(date));\r\n                        cls = jet.isBool(endval[1]) ? (regday ? \" disabled\" : cls) : (regday ? cls : \" disabled\");\r\n                    }\r\n                }\r\n                return cls;\r\n            };\r\n\r\n            //var ymds = ymdarr[1]\r\n            //上一月剩余天数\r\n            for (var p = prevDaysNum - firstWeek + 1; p <= prevDaysNum; p++, count++) {\r\n                var pmark = setMark(prevM.y,prevM.m,p), pcls = dateLimit(prevM.y, prevM.m, p, false) ? \"disabled\" : \"other\";\r\n                pcls = regExpDate(p,pcls);\r\n                daysArr.push({style:pcls,ymd:prevM.y+'-'+jet.digit(prevM.m)+'-'+jet.digit(p),day:(isfestival(prevM.y,prevM.m,p) + pmark)});\r\n            }\r\n            //本月的天数\r\n            for(var b = 1; b <= daysNum; b++, count++){\r\n                var bmark = setMark(yd,md,b), bcls = \"\";\r\n                var dateval = parseInt(yd+\"\"+jet.digit(md)+\"\"+jet.digit(b)),\r\n                    parsdate = dateval > startDate, rangdate = dateval < endDate;\r\n                if(dateLimit(yd, md, b, true)){\r\n                    if(dateval == startDate || dateval == endDate){\r\n                        bcls = \" action\";\r\n                    }else if(parsdate&&rangdate){\r\n                        bcls = \" contain\";\r\n                    }else {\r\n                        bcls = \"\";\r\n                    }\r\n                }else {\r\n                    bcls = \" disabled\";\r\n                }\r\n                bcls = regExpDate(b,bcls);\r\n                daysArr.push({style:\"normal\"+bcls,ymd:yd+'-'+jet.digit(md)+'-'+jet.digit(b),day:(isfestival(yd,md,b) + bmark)});\r\n            }\r\n            //下一月开始天数\r\n            for(var n = 1, nlen = 42 - count; n <= nlen; n++){\r\n                var nmark = setMark(nextM.y,nextM.m,n);\r\n                var ncls = dateLimit(nextM.y, nextM.m, n, false) ? \"disabled\" : \"other\";\r\n                ncls = regExpDate(n,ncls);\r\n                daysArr.push({style:ncls,ymd:nextM.y+'-'+jet.digit(nextM.m)+'-'+jet.digit(n),day:(isfestival(nextM.y,nextM.m,n) + nmark)});\r\n            }\r\n            //将星期与日期拼接起来\r\n            return daysArr;  \r\n        },\r\n        eachTime  : function (hmsArr,type) {  \r\n            var that = this,opts = that.$opts, range = opts.range,multi = opts.multiPane, minVal = [], maxVal = [],\r\n                mhms = [\"hh\",\"mm\",\"ss\"], timeArr = [],hmsCls = '',format = that.format,    \r\n                ntVal = jet.trim(that.minDate).replace(/\\s+/g,\" \"), \r\n                xtVal = jet.trim(that.maxDate).replace(/\\s+/g,\" \"), \r\n                nVal = ntVal.split(\" \"), xVal = xtVal.split(\" \");\r\n            if(that.dlen>3 && /\\:/.test(nVal) && /\\:/.test(xVal)){\r\n                minVal = jet.reMatch(/\\s/.test(ntVal)&&that.dlen>3 ? nVal[1] : ntVal);\r\n                maxVal = jet.reMatch(/\\s/.test(xtVal)&&that.dlen>3 ? xVal[1] : xtVal);\r\n            }\r\n            jet.each([24,60,60],function (s,lens) {\r\n                timeArr[s] = [];\r\n                var unhmsVal = minVal[s] == undefined || minVal[s] == 0 ? hmsArr[mhms[s]] : minVal[s],\r\n                currVal = that.getValue() == \"\" ? unhmsVal : hmsArr[mhms[s]];\r\n                if(that.dlen>3 && /\\:/.test(nVal) && type==1){\r\n                    that.selectTime[0][mhms[s]] = currVal;\r\n                }\r\n                for (var h = 0; h < lens; h++) {\r\n                    var exists = new RegExp(mhms[s],\"g\").test(format);\r\n                    if(h == currVal){\r\n                        hmsCls = exists ? \"action\" : \"disabled\"; \r\n                    }else if(!exists || !range && multi &&(h<minVal[s] ||h>maxVal[s])){    \r\n                        hmsCls = \"disabled\";\r\n                    }else if(!multi){\r\n                        hmsCls = type == 1&&h<minVal[s] || type == 2&&h>maxVal[s] ? \"disabled\" : \"\";\r\n                    }else{\r\n                        hmsCls = \"\"; \r\n                    }\r\n                    timeArr[s].push({style:hmsCls,hms:h});\r\n                }\r\n            }); \r\n            return timeArr;\r\n        },\r\n        //关闭日期控件\r\n        closeDate : function () {\r\n            var elem = $Q(elx), tipelem = $Q(\"#jedatetipscon\");\r\n            elem && document.body.removeChild(elem);\r\n            tipelem && document.body.removeChild(tipelem);\r\n            //再次初始化值\r\n            this.setDatas();\r\n        },\r\n        //转换日期值\r\n        parseValue : function (fnObj,matStr) {\r\n            var that = this, valArr=[],opts = that.$opts, range = opts.range;\r\n            jet.each(fnObj,function (i,val) {\r\n                valArr.push(jet.parse(val, matStr));\r\n            });\r\n            return range == false ? valArr[0] : valArr.join(range);\r\n        },\r\n        //初始验证正则\r\n        dateRegExp : function(valArr) {\r\n            var enval = valArr.split(\",\")||[], regs = \"\";\r\n            var doExp = function (val) {\r\n                var arr, tmpEval, regs = /#?\\{(.*?)\\}/;\r\n                val = val + \"\";\r\n                while ((arr = regs.exec(val)) != null) {\r\n                    arr.lastIndex = arr.index + arr[1].length + arr[0].length - arr[1].length - 1;\r\n                    tmpEval = parseInt(eval(arr[1]));\r\n                    if (tmpEval < 0) tmpEval = \"9700\" + -tmpEval;\r\n                    val = val.substring(0, arr.index) + tmpEval + val.substring(arr.lastIndex + 1);\r\n                }\r\n                return val;\r\n            };\r\n            if (enval && enval.length > 0) {\r\n                for (var i = 0; i < enval.length; i++) {\r\n                    regs += doExp(enval[i]);\r\n                    if (i != enval.length - 1) regs += \"|\";\r\n                }\r\n                regs = regs ? new RegExp(\"(?:\" + regs + \")\") : null;\r\n            } else {\r\n                regs = null;\r\n            }\r\n            //re = new RegExp((re + \"\").replace(/^\\/\\(\\?:(.*)\\)\\/.*/, \"$1\"));\r\n            return regs;\r\n        },\r\n        //显示农历节日\r\n        showFestival:function () {\r\n            var that = this, opts = that.$opts;\r\n            jet.each(that.dateCell.querySelectorAll(\".daystable td\"),function (i,node) {\r\n                var tval = jet.reMatch(jet.attr(node,\"ymd\")),tipDiv = document.createElement(\"div\");\r\n                node.removeAttribute(\"ymd\");\r\n                //鼠标进入提示框出现\r\n                jet.on(node,\"mouseover\",function () {\r\n                    var lunar = new jeLunar(tval[0], tval[1] - 1, tval[2]);\r\n                    if($Q(\"#jedatetipscon\")) return;\r\n                    tipDiv.id = tipDiv.className = \"jedatetipscon\";\r\n                    var tiphtml = '<p>' + lunar.solarYear + '\\u5E74' + lunar.solarMonth + '\\u6708' + lunar.solarDate + '\\u65E5 ' + lunar.inWeekDays + '</p><p class=\"red\">\\u519C\\u5386：' + lunar.shengxiao + '\\u5E74 ' + lunar.lnongMonth + '\\u6708' + lunar.lnongDate + '</p><p>' + lunar.ganzhiYear + '\\u5E74 ' + lunar.ganzhiMonth + '\\u6708 ' + lunar.ganzhiDate + '\\u65E5</p>';\r\n                    var Fesjieri = (lunar.solarFestival || lunar.lunarFestival) != \"\" ? '<p class=\"red\">' + (\"\\u8282\\u65E5：\"+lunar.solarFestival + lunar.lunarFestival) + '</p>' : \"\";\r\n                    var Fesjieqi = lunar.jieqi != \"\" ? '<p class=\"red\">'+(lunar.jieqi != \"\" ? \"\\u8282\\u6C14：\"+lunar.jieqi : \"\") + '</p>': \"\";\r\n                    var tiptext = (lunar.solarFestival || lunar.lunarFestival || lunar.jieqi) != \"\" ? (Fesjieri + Fesjieqi) : \"\";\r\n                    jet.html(tipDiv,tiphtml + tiptext);\r\n                    document.body.appendChild(tipDiv);\r\n                    //获取并设置农历提示框出现的位置\r\n                    var tipPos = that.lunarOrien(tipDiv, this);\r\n                    jet.setCss(tipDiv,{\"zIndex\":  (opts.zIndex == undefined ? 10000 + 5 : opts.zIndex + 5),top:tipPos.top,left:tipPos.left,position:\"absolute\",display:\"block\"});\r\n                });\r\n                //鼠标移除提示框消失\r\n                jet.on(node,\"mouseout\",function () {\r\n                    document.body.removeChild($Q(\"#jedatetipscon\"));\r\n                });\r\n            });\r\n            if (that.dateCell.nodeType === 1 && !jet.hasClass(that.dateCell,\"grid\")) that.dateCell.className = that.dateCell.className + \" grid\";\r\n        },\r\n        //农历方位辨别\r\n        lunarOrien : function(obj, self, pos) {\r\n            var tops, leris, ortop, orleri, rect =self.getBoundingClientRect(), boxW = obj.offsetWidth, boxH = obj.offsetHeight;\r\n            leris = rect.right + boxW / 1.5 >= jet.docArea(true) ? rect.right - boxW : rect.left + (pos ? 0 : jet.docScroll(true));\r\n            tops = rect.bottom + boxH / 1 <= jet.docArea() ? rect.bottom - 1 : rect.top > boxH / 1.5 ? rect.top - boxH - 1 : jet.docArea() - boxH;\r\n            if(leris + boxW > jet.docArea(true)) leris = rect.left - (boxW - rect.width);\r\n            ortop = Math.max(tops + (pos ? 0 :jet.docScroll()) + 1, 1) + \"px\", orleri = leris + \"px\";\r\n            return {top: ortop, left: orleri }\r\n        },\r\n        //辨别控件的方位\r\n        dateOrien : function(elbox, valCls, pos) {\r\n            var that = this, tops, leris, ortop, orleri,\r\n                rect = that.$opts.fixed ? valCls.getBoundingClientRect() : elbox.getBoundingClientRect(),\r\n                leris = rect.left, tops = rect.bottom;\r\n            if(that.$opts.fixed) {\r\n                var boxW = elbox.offsetWidth, boxH = elbox.offsetHeight;\r\n                //如果右侧超出边界\r\n                if(leris + boxW > jet.docArea(true)){\r\n                    leris = leris - (boxW - rect.width);\r\n                }\r\n                //如果底部超出边界\r\n                if(tops + boxH > jet.docArea()){\r\n                    tops = rect.top > boxH ? rect.top - boxH -2 : jet.docArea() - boxH -1;\r\n                }\r\n                //根据目标元素计算弹层位置\r\n                ortop = Math.max(tops + (pos ? 0 :jet.docScroll())+1, 1) + \"px\"; orleri = leris + \"px\";\r\n            }else{\r\n                //弹层位置位于页面上下左右居中\r\n                ortop = \"50%\"; orleri = \"50%\";\r\n                elbox.style.cssText = \"marginTop:\"+-(rect.height / 2)+\";marginLeft:\"+-(rect.width / 2);\r\n            }\r\n            jet.setCss(elbox,{top:ortop,left:orleri});\r\n        },\r\n        tips : function (text, time) {\r\n            var that = this, tipCls = $Q(\".jedate-tips\",that.dateCell),tipTime;\r\n            jet.html(tipCls,text||\"\"); jet.setCss(tipCls,{display:\"block\"});\r\n            clearTimeout(tipTime);\r\n            tipTime = setTimeout(function(){\r\n                jet.html(tipCls,\"\"); jet.setCss(tipCls,{display:\"none\"});\r\n            }, (time||2.5)*1000);\r\n        },\r\n        locateScroll : function () {\r\n            var that = this, ulCell = $Q(\".jedate-time\",that.dateCell).querySelectorAll(\"ul\");\r\n            jet.each(ulCell, function(i,cell) {\r\n                var hmsCls = cell.querySelector(\".action\");\r\n                cell.scrollTop = hmsCls ? (hmsCls.offsetTop-145):0;\r\n            });\r\n            if(that.dlen != 7) jet.setCss($Q(\".jedate-time\",that.dateCell),{display:'none'});\r\n        }\r\n    });\r\n    \r\n    //农历数据\r\n    function jeLunar(ly,lm,ld) {\r\n        var lunarInfo=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448],\r\n            sTermInfo = [ 0, 21208, 43467, 63836, 85337, 107014, 128867, 150921, 173149, 195551, 218072, 240693, 263343, 285989, 308563, 331033, 353350, 375494, 397447, 419210, 440795, 462224, 483532, 504758 ];\r\n        var Gan = \"甲乙丙丁戊己庚辛壬癸\", Zhi = \"子丑寅卯辰巳午未申酉戌亥\", Animals = \"鼠牛虎兔龙蛇马羊猴鸡狗猪\";\r\n        var solarTerm = [ \"小寒\", \"大寒\", \"立春\", \"雨水\", \"惊蛰\", \"春分\", \"清明\", \"谷雨\", \"立夏\", \"小满\",\r\n            \"芒种\", \"夏至\", \"小暑\", \"大暑\", \"立秋\", \"处暑\", \"白露\", \"秋分\", \"寒露\", \"霜降\", \"立冬\", \"小雪\", \"大雪\", \"冬至\" ];\r\n        var nStr1 = \"日一二三四五六七八九十\", nStr2 = \"初十廿卅\", nStr3 = [ \"正\", \"二\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\", \"十\", \"十一\", \"腊\"],\r\n            sFtv1 = {\r\n                \"0101\" : \"*1元旦节\",         \"0202\" : \"湿地日\",\r\n                \"0214\" : \"情人节\",           \"0308\" : \"妇女节\",\r\n                \"0312\" : \"植树节\",           \"0315\" : \"消费者权益日\",\r\n                \"0401\" : \"愚人节\",           \"0422\" : \"地球日\",\r\n                \"0501\" : \"*1劳动节\",         \"0504\" : \"青年节\",\r\n                \"0512\" : \"护士节\",           \"0518\" : \"博物馆日\",\r\n                \"0520\" : \"母亲节\",           \"0601\" : \"儿童节\",\r\n                \"0623\" : \"奥林匹克日\",       \"0630\" : \"父亲节\",\r\n                \"0701\" : \"建党节\",           \"0801\" : \"建军节\",\r\n                \"0903\" : \"抗战胜利日\",       \"0910\" : \"教师节\",\r\n                \"1001\" : \"*3国庆节\",         \"1201\" : \"艾滋病日\",\r\n                \"1224\" : \"平安夜\",           \"1225\" : \"圣诞节\"\r\n            },\r\n            sFtv2 = {\r\n                \"0100\" : \"除夕\",             \"0101\" : \"*2春节\",\r\n                \"0115\" : \"元宵节\",           \"0505\" : \"*1端午节\",\r\n                \"0707\" : \"七夕节\",           \"0715\" : \"中元节\",\r\n                \"0815\" : \"*1中秋节\",         \"0909\" : \"*1重阳节\",\r\n                \"1015\" : \"下元节\",           \"1208\" : \"腊八节\",\r\n                \"1223\" : \"小年\"\r\n\r\n            };\r\n        function flunar(Y) {\r\n            var sTerm = function (j, i) {\r\n                var h = new Date((31556925974.7 * (j - 1900) + sTermInfo[i] * 60000) + Date.UTC(1900, 0, 6, 2, 5));\r\n                return (h.getUTCDate());\r\n            },\r\n            d = function (k) {\r\n                var h, j = 348;\r\n                for (h = 32768; h > 8; h >>= 1) j += (lunarInfo[k - 1900] & h) ? 1 : 0;\r\n                return (j + b(k));\r\n            },\r\n            ymdCyl = function (h) {\r\n                return (Gan.charAt(h % 10) + Zhi.charAt(h % 12));\r\n            },\r\n            b = function (h) {\r\n                var islp = (g(h)) ? ((lunarInfo[h - 1900] & 65536) ? 30 : 29) : (0);\r\n                return islp;\r\n            },\r\n            g = function (h) {\r\n                return (lunarInfo[h - 1900] & 15)\r\n            },\r\n            e = function (i, h) {\r\n                return ((lunarInfo[i - 1900] & (65536 >> h)) ? 30 : 29);\r\n            },\r\n            newymd = function (m) {\r\n                var k, j = 0, h = 0, l = new Date(1900, 0, 31), n = (m - l) / 86400000;\r\n                this.dayCyl = n + 40;\r\n                this.monCyl = 14;\r\n                for (k = 1900; k < 2050 && n > 0; k++) {\r\n                    h = d(k); n -= h;\r\n                    this.monCyl += 12;\r\n                }\r\n                if (n < 0) {\r\n                    n += h; k--;\r\n                    this.monCyl -= 12;\r\n                }\r\n                this.year = k;\r\n                this.yearCyl = k - 1864;\r\n                j = g(k);\r\n                this.isLeap = false;\r\n                for (k = 1; k < 13 && n > 0; k++) {\r\n                    if (j > 0 && k == (j + 1) && this.isLeap == false) {\r\n                        --k;\r\n                        this.isLeap = true;\r\n                        h = b(this.year);\r\n                    } else {\r\n                        h = e(this.year, k);\r\n                    }\r\n                    if (this.isLeap == true && k == (j + 1)) {\r\n                        this.isLeap = false;\r\n                    }\r\n                    n -= h;\r\n                    if (this.isLeap == false) this.monCyl++;\r\n                }\r\n                if (n == 0 && j > 0 && k == j + 1) {\r\n                    if (this.isLeap) {\r\n                        this.isLeap = false;\r\n                    } else {\r\n                        this.isLeap = true;\r\n                        --k;\r\n                        --this.monCyl;\r\n                    }\r\n                }\r\n                if (n < 0) {\r\n                    n += h; --k;\r\n                    --this.monCyl;\r\n                }\r\n                this.month = k;\r\n                this.day = n + 1;\r\n            },\r\n            digit = function (num) {\r\n                return num < 10 ? \"0\" + (num | 0) : num;\r\n            },\r\n            reymd = function (i, j) {\r\n                var h = i;\r\n                return j.replace(/dd?d?d?|MM?M?M?|yy?y?y?/g, function (k) {\r\n                    switch (k) {\r\n                        case \"yyyy\":\r\n                            var l = \"000\" + h.getFullYear();\r\n                            return l.substring(l.length - 4);\r\n                        case \"dd\": return digit(h.getDate());\r\n                        case \"d\": return h.getDate().toString();\r\n                        case \"MM\": return digit((h.getMonth() + 1));\r\n                        case \"M\": return h.getMonth() + 1;\r\n                    }\r\n                });\r\n            },\r\n            lunarMD = function (i, h) {\r\n                var j;\r\n                switch (i, h) {\r\n                    case 10: j = \"初十\"; break;\r\n                    case 20: j = \"二十\"; break;\r\n                    case 30: j = \"三十\"; break;\r\n                    default:\r\n                        j = nStr2.charAt(Math.floor(h / 10));\r\n                        j += nStr1.charAt(h % 10);\r\n                }\r\n                return j;\r\n            };\r\n            this.isToday = false;\r\n            this.isRestDay = false;\r\n            this.solarYear = reymd(Y, \"yyyy\");\r\n            this.solarMonth = reymd(Y, \"M\");\r\n            this.solarDate = reymd(Y, \"d\");\r\n            this.solarWeekDay = Y.getDay();\r\n            this.inWeekDays = \"星期\" + nStr1.charAt(this.solarWeekDay);\r\n            var X = new newymd(Y);\r\n            this.lunarYear = X.year;\r\n            this.shengxiao = Animals.charAt((this.lunarYear - 4) % 12);\r\n            this.lunarMonth = X.month;\r\n            this.lunarIsLeapMonth = X.isLeap;\r\n            this.lnongMonth = this.lunarIsLeapMonth ? \"闰\" + nStr3[X.month - 1] : nStr3[X.month - 1];\r\n            this.lunarDate = X.day;\r\n            this.showInLunar = this.lnongDate = lunarMD(this.lunarMonth, this.lunarDate);\r\n            if (this.lunarDate == 1) {\r\n                this.showInLunar = this.lnongMonth + \"月\";\r\n            }\r\n            this.ganzhiYear = ymdCyl(X.yearCyl);\r\n            this.ganzhiMonth = ymdCyl(X.monCyl);\r\n            this.ganzhiDate = ymdCyl(X.dayCyl++);\r\n            this.jieqi = \"\";\r\n            this.restDays = 0;\r\n            if (sTerm(this.solarYear, (this.solarMonth - 1) * 2) == reymd(Y, \"d\")) {\r\n                this.showInLunar = this.jieqi = solarTerm[(this.solarMonth - 1) * 2];\r\n            }\r\n            if (sTerm(this.solarYear, (this.solarMonth - 1) * 2 + 1) == reymd(Y, \"d\")) {\r\n                this.showInLunar = this.jieqi = solarTerm[(this.solarMonth - 1) * 2 + 1];\r\n            }\r\n            if (this.showInLunar == \"清明\") {\r\n                this.showInLunar = \"清明节\";\r\n                this.restDays = 1;\r\n            }\r\n            this.solarFestival = sFtv1[reymd(Y, \"MM\") + reymd(Y, \"dd\")];\r\n            if (typeof this.solarFestival == \"undefined\") {\r\n                this.solarFestival = \"\";\r\n            } else {\r\n                if (/\\*(\\d)/.test(this.solarFestival)) {\r\n                    this.restDays = parseInt(RegExp.$1);\r\n                    this.solarFestival = this.solarFestival.replace(/\\*\\d/, \"\");\r\n                }\r\n            }\r\n            this.showInLunar = (this.solarFestival == \"\") ? this.showInLunar : this.solarFestival;\r\n            this.lunarFestival = sFtv2[this.lunarIsLeapMonth ? \"00\" : digit(this.lunarMonth) + digit(this.lunarDate)];\r\n            if (typeof this.lunarFestival == \"undefined\") {\r\n                this.lunarFestival = \"\";\r\n            } else {\r\n                if (/\\*(\\d)/.test(this.lunarFestival)) {\r\n                    this.restDays = (this.restDays > parseInt(RegExp.$1)) ? this.restDays : parseInt(RegExp.$1);\r\n                    this.lunarFestival = this.lunarFestival.replace(/\\*\\d/, \"\");\r\n                }\r\n            }\r\n            if (this.lunarMonth == 12 && this.lunarDate == e(this.lunarYear, 12)) {\r\n                this.lunarFestival = sFtv2[\"0100\"];\r\n                this.restDays = 1;\r\n            }\r\n            this.showInLunar = (this.lunarFestival == \"\") ? this.showInLunar : this.lunarFestival;\r\n        }\r\n        return new flunar(new Date(ly, lm, ld));\r\n    }\r\n    return jeDate;\r\n});\r\n"]}