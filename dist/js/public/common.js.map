{"version":3,"sources":["public/common.js"],"names":["successTz","value","url","$","find","html","show","m","document","querySelector","num","t","setInterval","innerHTML","clearInterval","location","href","successTzz","hide","fail_callback","failTz","n","failTzz","imgUpload","obj","console","log","fileData","files","reader","size","type","FileReader","onload","e","data","target","result","image","Image","width","height","alert","val","prev","src","readAsDataURL","fileChange","fileSize","isIE","filePath","fileSystem","ActiveXObject","file","GetFile","Size","name","fileName","substring","lastIndexOf","toLowerCase","filefujianChange","refresh","window","tr_order","this","parent","next","after","fun","isPhone","reg","test","yzm","pwd","rege","repeatpwd","firstvaluea","lastvaluea","isMail","fn","TChecker","opts","$this","$validator","nextAll","status","ele","doError","error","msg","focus","blur","required","rule","format","custom","correct","check","once","click","preventDefault"],"mappings":"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","file":"common.js","sourcesContent":["// 注册登录框  密码 手机 邮箱的验证\r\nvar fun = {\r\n        isPhone: function(value) {\r\n            var reg = /^1[3|4|5|7|8]\\d{9}$/;\r\n            if (!reg.test(value)) {\r\n                $('#mobile_input').html(\"*手机格式不正确\");\r\n                $('#mobile_input').show();\r\n                return false;\r\n            }\r\n            if (value == '') {\r\n                $('#mobile_input').html(\"*手机号码不能为空\");\r\n                $('#mobile_input').show();\r\n                return false;\r\n            }\r\n            return true;\r\n\r\n        },\r\n        yzm: function(value) {\r\n            if (value == \"\") {\r\n                $('#sjyzm').html(\"*验证码不能为空\");\r\n                $('#sjyzm').show();\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        pwd: function(value) {\r\n            var rege = /^\\w{6,20}$/;\r\n            if (!rege.test(value)) {\r\n                $('#pwd1_input').html(\"*密码格式不正确\");\r\n                $('#pwd1_input').show();\r\n                return false;\r\n            }\r\n            if (value === '') {\r\n                $('#pwd1_input').html(\"*密码不能为空\");\r\n                $('#pwd1_input').show();\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        repeatpwd: function(firstvaluea, lastvaluea) {\r\n            if (firstvaluea !== lastvaluea) {\r\n                $('#pwdsj_input').html('*两次输入密码不一致');\r\n                $(\"#pwdsj_input\").show();\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        isMail: function(value) {\r\n            var reg = /^\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z0-9]+$/g;\r\n            if (!reg.test(value)) {\r\n\r\n                $('#email_input').html(\"*邮箱格式不正确\");\r\n                $('#email_input').show();\r\n                return false;\r\n            }\r\n            if (value == '') {\r\n                $('#email_input').html(\"*邮箱不能为空\");\r\n                $('#email_input').show();\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n\r\n    }\r\n\r\n//为文本框写的简易校验器\r\n//var nameChecker = $(\"#txtName\").TChecker({\r\n//    required: { rule: true, error: \"请输入您的名字\" },\r\n//    format: { rule: /^[a-z]+$/, error: \"您的名字格式不正确\" }\r\n//});\r\n\r\n$.fn.TChecker = function (opts) {\r\n    var $this = this;\r\n    var $validator = $this.nextAll(\".tishi\");\r\n    var status = 0;\r\n\r\n    if (opts.ele) $validator = $(opts.ele);\r\n\r\n    var doError = function (error, msg) {\r\n        if (error) {\r\n            $validator.html(msg);\r\n            $validator.show();\r\n            $this.focus();\r\n            return true;\r\n        }\r\n        else {\r\n            $validator.html(\"\");\r\n            $validator.hide();\r\n            return false;\r\n        }\r\n    }\r\n\r\n    $this.blur(function () {\r\n        status = 1;\r\n        var value = $this.val();\r\n\r\n        if (opts.required) {\r\n            if (doError(opts.required.rule && value == \"\", opts.required.error)) return false;\r\n        }\r\n        if (opts.format) {\r\n            if (doError(!opts.format.rule.test(value), opts.format.error)) return false;\r\n        }\r\n        if (typeof opts.custom == \"function\") {\r\n            var result = opts.custom(value);\r\n            if (doError(!result.rule, result.error)) return false;\r\n        }\r\n    });\r\n\r\n    return {\r\n        correct: $validator.html() === \"\",\r\n        check: function (once) {\r\n            once = (once != false);\r\n            if (status === 0 || !once) {\r\n                $this.blur();\r\n            }\r\n            var correct = $validator.html() === \"\";\r\n            if (!correct) $this.focus();\r\n            return correct;\r\n        }\r\n    };\r\n};\r\n\r\n\r\n// $( function() {\r\n//     $( \"#speed\" ).selectmenu();\r\n\r\n//     $( \"#files\" ).selectmenu();\r\n\r\n//     $( \"#number\" )\r\n//       .selectmenu()\r\n//       .selectmenu( \"menuWidget\" )\r\n//         .addClass( \"overflow\" );\r\n\r\n//     $( \"#salutation\" ).selectmenu();\r\n//   } );\r\n\r\n\r\n\r\n// 成功提示跳转callback弹框\r\nfunction successTz(value,url) {\r\n  $('.successTz').find('h3').html(value);\r\n  $('.successTz').show();\r\n  var m = document.querySelector('#n');\r\n  var num = 3;\r\n  var t = setInterval(function() {\r\n    num--;\r\n    m.innerHTML = num;\r\n    if (num == 0) {\r\n      clearInterval(t);\r\n      location.href = url;\r\n    }\r\n  }, 1000)\r\n\r\n};\r\n\r\n\r\n//success跳转无刷新\r\nfunction successTzz(value) {\r\n  $('.successTz').find('h3').html(value);\r\n  $('.successTz').show();\r\n  var m = document.querySelector('#m');\r\n  var num = 3;\r\n  var t = setInterval(function() {\r\n    num--;\r\n    m.innerHTML = num;\r\n    if (num == 0) {\r\n      clearInterval(t);\r\n      $('.successTz').hide();\r\n    }\r\n  }, 1000)\r\n\r\n};\r\n// 失败callback\r\nfunction fail_callback(value){\r\n  $('.fail_callback').find('h4').html(value);\r\n  $('.fail_callback').show();\r\n\r\n};\r\n// 失败跳转callback\r\nfunction failTz(value,url){\r\n  $('.failTz').find('h3').html(value);\r\n  $('.failTz').show();\r\n  var n = document.querySelector('#n');\r\n  var num = 3;\r\n  var t = setInterval(function() {\r\n    num--;\r\n    n.innerHTML = num;\r\n    if (num == 0) {\r\n      clearInterval(t);\r\n      location.href = url;\r\n    }\r\n  }, 1000)\r\n};\r\n\r\n// 失败跳转无刷新callback\r\nfunction failTzz(value){\r\n  $('.failTz').find('h3').html(value);\r\n  $('.failTz').show();\r\n  var n = document.querySelector('#n');\r\n  var num = 3;\r\n  var t = setInterval(function() {\r\n    num--;\r\n    n.innerHTML = num;\r\n    if (num == 0) {\r\n      clearInterval(t);\r\n      $('.failTz').hide();\r\n\r\n    }\r\n  }, 1000)\r\n};\r\n\r\n//  弹出框的取消\r\n$('.call-box').find('button.cancel').click(function(){\r\n    $('.call-box').hide();\r\n});\r\n// 添加KeyMap\r\n$('.creat-keymap').find('.add-map').click(function(e){\r\n  e.preventDefault();\r\n  window.location.href=\"creat-keymap.html\";\r\n});\r\n\r\n function imgUpload(obj){\r\n    debugger;\r\n       console.log(obj);\r\n       var fileData = obj.files[0];\r\n       var size = fileData.size;\r\n       var type=fileData.type;\r\n\r\n       var reader = new FileReader();\r\n\r\n       reader.onload = function (e) {\r\n\r\n        var data = e.target.result;\r\n\r\n\r\n        //加载图片获取图片真实宽度和高度\r\n        var image = new Image();\r\n\r\n        image.onload=function(){\r\n            var width = image.width;\r\n            var height = image.height;\r\n            // if(width!=1080 && height!=400){\r\n            if(width<1080 && height<400){\r\n                alert('规格错误，请上传1080*400的图片');\r\n                $('input[name=\"picurl\"]').val(null);\r\n                return false;\r\n            }\r\n\r\n            $(obj).prev(\"i\").html(\"<img style='display:block;width:108px;height:108px;' src='\"+data+\"'>\");\r\n\r\n        };\r\n        image.src= data;\r\n\r\n    };\r\n\r\n\r\n    //读取文件的base64数据\r\n       reader.readAsDataURL(fileData);\r\n\r\n }\r\n\r\n\r\nfunction fileChange(target) {\r\n     var fileSize = 0;\r\n     if (isIE && !target.files) {\r\n       var filePath = target.value;\r\n       var fileSystem = new ActiveXObject(\"Scripting.FileSystemObject\");\r\n       var file = fileSystem.GetFile (filePath);\r\n       fileSize = file.Size;\r\n     } else {\r\n      fileSize = target.files[0].size;\r\n      }\r\n      var size = fileSize / 1024;\r\n      if(size>2000){\r\n       alert(\"附件不能大于2M\");\r\n       target.value=\"\";\r\n       return\r\n      }\r\n      var name=target.value;\r\n      var fileName = name.substring(name.lastIndexOf(\".\")+1).toLowerCase();\r\n      if(fileName !=\"xls\" && fileName !=\"xlsx\"){\r\n          alert(\"请选择execl格式文件上传！\");\r\n          target.value=\"\";\r\n          return\r\n      }\r\n    }\r\n\r\nfunction filefujianChange(target) {\r\n       var fileSize = 0;\r\n       if (isIE && !target.files) {\r\n         var filePath = target.value;\r\n         var fileSystem = new ActiveXObject(\"Scripting.FileSystemObject\");\r\n         var file = fileSystem.GetFile (filePath);\r\n         fileSize = file.Size;\r\n       } else {\r\n        fileSize = target.files[0].size;\r\n        }\r\n        var size = fileSize / 1024;\r\n        if(size>2000){\r\n         alert(\"附件不能大于2M\");\r\n         target.value=\"\";\r\n         return\r\n        }\r\n        var name=target.value;\r\n        var fileName = name.substring(name.lastIndexOf(\".\")+1).toLowerCase();\r\n        if(fileName !=\"jpg\" && fileName !=\"jpeg\" && fileName !=\"pdf\" && fileName !=\"png\" && fileName !=\"dwg\" && fileName !=\"gif\" ){\r\n          alert(\"请选择图片格式文件上传(jpg,png,gif,dwg,pdf,gif等)！\");\r\n            target.value=\"\";\r\n            return\r\n        }\r\n      }\r\nfunction refresh(){\r\n    window.location.href=\"\";\r\n}\r\n\r\n// 列表行互换顺序\r\nfunction tr_order(){\r\n    if($(this).parent().parent().next())\r\n    $(this).parent().parent().next().after($(this).parent().parent());\r\n\r\n}\r\n"]}